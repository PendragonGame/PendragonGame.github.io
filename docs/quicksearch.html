<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"app_ai_Nav-mesh.js.html":{"id":"app_ai_Nav-mesh.js.html","title":"Source: app/ai/Nav-mesh.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/ai/Nav-mesh.js /** * @module ai/NavMesh */ const PhaserNavmesh = require('phaser-navmesh'); /** * */ /** * Create a navigation mesh * @param {tilemap} tilemap * @constructor NavMesh */ function NavMesh(tilemap) { this.navMeshPlugin = game.plugins.add(PhaserNavmesh); this.navMesh = this.navMeshPlugin.buildMeshFromTiled(tilemap, 'navmesh', 16); // this.navMesh.enableDebug(); // this.navMesh.debugDrawMesh({ // drawCentroid: false, drawBounds: false, // drawNeighbors: false, drawPortals: false, // }); } /** * * @param {Phaser.Point} start * @param {Phaser.Point} finish * @return {path} path */ NavMesh.prototype.findPath = function(start, finish) { // return this.navMesh.findPath(start, finish); // this.navMesh.debugClear(); // Clears the overlay // draw the path // this.navMesh.findPath(start, finish, { // drawPolyPath: false, drawFinalPath: true, // }); let path = this.navMesh.findPath(start, finish); return path; }; module.exports = NavMesh; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"data-store_dbStore.js.html":{"id":"data-store_dbStore.js.html","title":"Source: data-store/dbStore.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: data-store/dbStore.js 'use strict'; /** * @module backend/dbStore */ const storage = require('electron-json-storage'); const moment = require('moment'); const _ = require('lodash'); let playerData = null; let monsterData = {}; let npcData = {}; /** * @todo let highScore = 0; */ /** * Store Entity into JSON file. * * @param {any} data */ let storeEntity = function(data) { if (data.type === 'player') { playerData = data; } else if (data.type === 'monster') { monsterData[data.id] = data; } else if (data.type === 'npc') { npcData[data.id] = data; } }; let autosave = function() { let entities = { player: playerData, monsters: monsterData, npc: npcData, }; if (entities.player === null) return; // console.debug('Monsters:' + Object.keys(entities.monsters).length); // console.debug('NPC:' + Object.keys(entities.npc).length); storage.set('autosave.entities', entities, function(err) { if (err) throw err; }); }; let manualSave = function() { let entities = { player: playerData, monsters: monsterData, npc: npcData, }; if (entities.player === null) return; let timestamp = moment().toISOString(); let key = timestamp + '.entities'; console.log('Saving entity to: ' + key); /** * NOTE(anand): There may be a problem with loading because the timestamp is urlencoded */ storage.set(key, entities, function(err) { if (err) throw err; }); }; /** * Get the saved state keys. * * @return {Promise} */ let getStates = function() { return new Promise(function(resolve, reject) { storage.keys((err, keys) =&gt; { if (err) { reject(err); } resolve(_.map(keys, (e, i) =&gt; { console.log('Found key: ' + e); /** * The key is formatted such: * &lt;ISO8601 Timestamp&gt;.entities * * Here, I am getting the index of the dot before 'entities' * and returning the timestamp */ return e.slice(0, e.indexOf('entities') - 1); })); }); }); }; let loadState = function(key) { return new Promise(function(resolve, reject) { key = key + '.entities'; console.log('Loading key: ' + key); storage.get(key, (err, data) =&gt; { if (err) reject(err); console.log('Loaded key: ' + key); // console.debug('Monsters:' + Object.keys(data.monsters).length); // console.debug('NPC:' + Object.keys(data.npc).length); resolve(data); }); }); }; /** * Save game functions */ module.exports.storeEntity = storeEntity; module.exports.autosave = autosave; module.exports.manualSave = manualSave; /** * Load game functions */ module.exports.loadState = loadState; /** * Helper functions */ module.exports.getStates = getStates; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_util_data.js.html":{"id":"app_util_data.js.html","title":"Source: app/util/data.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/util/data.js 'use strict'; /** * @module dataStore * @exports dataStore */ const {ipcRenderer} = require('electron'); let loadedState = null; /** * Update entity by sending information to backend * * @param {any} entity * @param {string} channel * @function storeEntity */ function storeEntity(entity, channel) { let data = entity.serialize(); ipcRenderer.send(channel, data); }; /** * Store entities as autosave * * @param {module:entity/Entity~Entity} entity */ module.exports.autosaveEntity = function(entity) { storeEntity(entity, 'saveEntity'); }; /** * * @param {any} entity * @deprecated */ module.exports.manualSaveState = function() { ipcRenderer.send('manualSaveState', true); }; /** * Get a list of save states * * @return {Promise} - Promise with list of save states */ module.exports.getSaveStates = function() { ipcRenderer.send('listSaveStates', true); return new Promise(function(resolve, reject) { ipcRenderer.on('reply-listSaveStates', (ev, arg) =&gt; { if (!arg.success) reject('Failed to list keys'); resolve(arg.data); }); }); }; /** * Load a state given a save state key * * @param {string} key - Save State Key * @return {Promise} - Promise with saved data */ module.exports.loadState = function(key) { ipcRenderer.send('loadState', key); loadedState = new Promise(function(resolve, reject) { ipcRenderer.on('reply-loadState', (ev, arg) =&gt; { if (!arg.success) reject('Failed to load key'); resolve(arg.data); }); }); return loadedState; }; /** * Get the previously loaded state as a Promise * * @param {any} key * @return {Promise} - Promise with previously loaded data */ module.exports.getLoadedState = function(key) { return loadedState; }; /** * Invalidate the previously loaded state */ module.exports.resetLoadState = function() { loadedState = null; }; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_entity_Entity.js.html":{"id":"app_entity_Entity.js.html","title":"Source: app/entity/Entity.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/entity/Entity.js 'use strict'; /** * @module entity/Entity */ const _ = require('lodash'); const uuid = require('../util/uuid'); let h; let w; let offx; let offy; /** * A lookup table for directions */ const DIRECTIONS = ['up', 'right', 'down', 'left']; /** * The `Entity` class is the base class for all game entities. * It needs to have to following properties * * - Health (Upto the child class to define) * - Weapon * - Inventory @todo * - Factions @todo * * It also cannot step outside world bounds. * * @param {number} x - The x coordinate of `Entity` on the canvas * @param {number} y - The y coordinate of `Entity` on the canvas * @param {string} key - The key to the loaded spritesheet * @constructor Entity * @see Phaser.Sprite */ function Entity(x, y, key) { Phaser.Sprite.call(this, game, x, y, key); game.add.existing(this); game.physics.enable(this, Phaser.Physics.ARCADE); this.body.collideWorldBounds = true; /** * Direction initialized to down. * Must be changed only when new direction is chosen. */ this.direction = 'down'; /** * Begin with no weapon. * * @todo: The weapons can be stored as an object with attributes. */ this.weapon = null; /** * Miscellaneous attributes. */ this.speed = 65; this.sprintSpeed = 170; // Set the default animations this.setAnimations(); game.physics.enable(this, Phaser.Physics.ARCADE); /** * hitbox fix */ this.body.height = this.body.height / 2; this.body.width = this.body.width / 2; this.body.offset.x += this.body.width / 2; this.body.offset.y += this.body.height; // /** // * New Hitbox fix // */ // this.collideBox = game.add.sprite(0, 0, 'as'); // game.physics.enable(this.collideBox, Phaser.Physics.ARCADE); // this.collideBox.anchor.setTo(-0.5); // // this.collideBox.visible = false; // // this.collideBox.frame = 12; // // this.collideBox.body.setSize(this.body.height/2, this.body.width/2); // this.collideBox.body.height = this.body.height/2; // this.collideBox.body.width = this.body.width/2; // this.addChild(this.collideBox); // Set size constants h = this.body.height; w = this.body.width; offx = this.body.offset.x; offy = this.body.offset.y; /** * States. * State can be 'idling', 'walking', 'attacking' */ this.state = 'idling'; this.idleTimer = 0; this.directionLimiter = 0; /** * Type and ID */ this.type = 'generic'; this.id = uuid(); /** * Reputation and Gossip */ this.reputation = 0; this.information = []; this.dislike = []; } Entity.prototype = Object.create(Phaser.Sprite.prototype); Entity.prototype.constructor = Entity; /** * Set the animations of the `Entity`. * * * @param {object} frames - Object containing the animation frames */ Entity.prototype.setAnimations = function(frames) { if (frames !== undefined) { // Do something with frames }; // Else set to default animations /** * Adding animations for the `Entity`. * * 1 sprite sheet contains every movement. * You target sections of the sprite sheet by using array[0...n], * where 0 is the top left corner of the image and n is the bottom * right corner of the image. Spritesheets and their corresponding integers * count left to right, top to bottom. */ this.animations.add('idle_up', [104], 10, true); this.animations.add('idle_right', [143], 10, true); this.animations.add('idle_down', [130], 10, true); this.animations.add('idle_left', [117], 10, true); this.animations.add('die', [260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 271, 272], 25, false); this.animations.add('walk_up', [105, 106, 107, 108, 109, 110, 111, 112], 10, true); this.animations.add('walk_down', [131, 132, 133, 134, 135, 136, 137, 138], 10, true); this.animations.add('walk_left', [118, 119, 120, 121, 122, 123, 124, 125], 10, true); this.animations.add('walk_right', [144, 145, 146, 147, 148, 149, 150, 151], 10, true); this.animations.add('slash_up', [156, 157, 158, 159, 160, 161], 10, true); this.animations.add('slash_down', [182, 183, 184, 185, 186, 187], 10, true); this.animations.add('slash_left', [169, 170, 171, 172, 173, 174], 10, true); this.animations.add('slash_right', [195, 196, 197, 198, 199, 200], 10, true); }; /** * Method to move any `Entity` * * The parameter `direction` has to be one of 'up', 'down', 'left' or 'right'. * * Another option is to use: * * 1. UP * 2. RIGHT * 3. DOWN * 4. LEFT * * @param {string|number} direction * @param {Boolean} sprint - Whether to sprint or not */ Entity.prototype.moveInDirection = function(direction, sprint) { if (this.state !== 'attacking') { this.state = 'walking'; let speed = this.speed; let animSpeed = 10; if (sprint) { speed = this.sprintSpeed; animSpeed = 30; } this.animations.currentAnim.speed = animSpeed; let dir = ''; if (_.isString(direction) &amp;&amp; _.includes(DIRECTIONS, direction)) { dir = direction.toLowerCase(); } else if (_.isNumber(direction) &amp;&amp; _.inRange(direction, 0, 4)) { dir = DIRECTIONS[direction]; } else { console.error(direction); console.error('Invalid direction'); return; } switch (dir) { case 'up': this.body.velocity.y = -speed; this.body.velocity.x = 0; this.direction = 'up'; break; case 'down': this.body.velocity.y = speed; this.body.velocity.x = 0; this.direction = 'down'; break; case 'right': this.body.velocity.x = speed; this.body.velocity.y = 0; this.direction = 'right'; break; case 'left': this.body.velocity.x = -speed; this.body.velocity.y = 0; this.direction = 'left'; break; default: console.error('Invalid direction'); return; } this.animations.play('walk_' + dir, animSpeed, true); this.adjustHitbox('walk'); } }; Entity.prototype.idleHere = function() { this.state = 'idling'; this.body.velocity.x = 0; this.body.velocity.y = 0; this.animations.play('idle_' + this.direction, 1, false); this.adjustHitbox('idle'); }; Entity.prototype.attack = function() { self = this; // console.log('attacking'); this.state = 'attacking'; this.body.velocity.x = 0; this.body.velocity.y = 0; this.animations.play('slash_' + this.direction, 20, false).onComplete.add(function() { // this.animations.frame // console.log('attack finished'); self.idleHere(); }); this.adjustHitbox('slash'); }; Entity.prototype.die = function() { // const self = this; this.state = 'dead'; this.body.velocity.x = 0; this.body.velocity.y = 0; this.alive = false; // this.exists = false; this.animations.play('die', 10, false); const self = this; setTimeout(function() { self.kill(); }, 5000); }; /* * This function changes the size of the Entity's hit box based on what * action they are performing and what direction they are facing. */ Entity.prototype.adjustHitbox = function(state) { switch (state) { case ('walk'): this.body.height = h; this.body.width = w; this.body.offset.y = offy; this.body.offset.x = offx; break; case ('idle'): this.body.height = h; this.body.width = w; this.body.offset.y = offy; this.body.offset.x = offx; break; case ('slash'): switch (this.direction) { case ('up'): this.body.height = 1.5 * h; this.body.offset.y = h / 2; break; case ('down'): this.body.height = 1.5 * h; break; case ('right'): this.body.width = 1.5 * w; break; case ('left'): this.body.width = 1.5 * w; this.body.offset.x = offx - (w / 2); break; } break; } }; /** * Set the direction of the sprite * * @param {string|number} direction */ Entity.prototype.setDirection= function(direction) { if (_.isString(direction) &amp;&amp; _.includes(DIRECTIONS, direction)) { this.direction = direction.toLowerCase(); } else if (_.isNumber(direction) &amp;&amp; _.inRange(direction, 1, 5)) { this.direction = DIRECTIONS[direction]; } else { console.error('Invalid direction'); } }; Entity.prototype.serialize = function() { let obj = {}; obj.id = this.id; obj.x = this.x; obj.y = this.y; obj.key = this.key; obj.alive = this.alive; obj.type = this.type; obj.information = this.information; obj.reputation = this.reputation; if (this.type === 'player') { obj.score = this.score; obj.daysSurvived = this.daysSurvived; } return obj; }; Entity.prototype.deserialize = function(obj) { this.id = obj.id; this.x = obj.x; this.y = obj.y; this.key = obj.key; this.alive = obj.alive; this.type = obj.type; this.information = obj.information; this.reputation = obj.reputation; if (this.type === 'player') { this.score = obj.score; this.daysSurvived = obj.daysSurvived; } }; /** * Return the Name of the function. * This is a hack and should be used only for debugging. * * @return {string} */ Entity.prototype.toString = function() { let funcNameRegex = /function (.{1,})\\(/; let results = (funcNameRegex).exec((this).constructor.toString()); return (results &amp;&amp; results.length &gt; 1) ? results[1] : ''; }; /** * Get the center of the Hitbox of the entity * * @return {Object} - Point with x and y */ Entity.prototype.trueXY = function() { const self = this; return { x: self.x + self.body.width/2 + self.body.offset.x, y: self.y + self.body.height/2 + self.body.offset.y, }; }; /** * * * @param {Object} rumor */ Entity.prototype.learnInfo = function(rumor) { if (!this.alive) return; if (this.information.some((e) =&gt; e.id === rumor.id)) { /** * Do nothing if we already know this information. */ return; } console.info('[' + this.id +'] Learning something new....') this.information.push(rumor); switch (rumor.action) { case 'kill': if (rumor.targetType === this.type) { /** * If the type that was killed was the same as * the current `Entity`'s type, reputation drop by * 0.1. */ this.reputation = Math.max(-1, this.reputation - 0.1); this.converse('That person sucks!'); } else if (this.dislike.includes(rumor.targetType)) { /** * If the current entity dislikes the type of entity * that was killed, * rep increases by 0.1 */ this.reputation = Math.min(1, this.reputation + 0.25); this.converse('I LOVE THAT PERSON!'); } } }; Entity.prototype.converse = function(text) { let chat = game.add.text(32, 0, text); chat.anchor.setTo(0.5); chat.font = 'Press Start 2P'; chat.fill = '#ffff00'; chat.fontSize = '1.5em'; chat.stroke = 'black'; chat.strokeThickness = '4'; chat.align = 'center'; chat.lifespan = 3000; // milliseconds this.addChild(chat); }; /** * Entity module. * @module: entity/Entity */ module.exports = Entity; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_entity_Monster.js.html":{"id":"app_entity_Monster.js.html","title":"Source: app/entity/Monster.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/entity/Monster.js 'use strict'; /** * @module entity/Monster */ let NPC = require('./NPC'); /** * * * @param {any} x * @param {any} y * @param {any} key * @constructor Monster */ function Monster(x, y, key) { NPC.call(this, x, y, key); /** * @todo(anand): As of now, nothing. Need to add Attributes */ /** * Type of Entity */ this.type = 'monster'; this.reputation = -0.25; this.dislike = ['npc']; } Monster.prototype = Object.create(NPC.prototype); Monster.prototype.constructor = Monster; module.exports = Monster; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_entity_NPC.js.html":{"id":"app_entity_NPC.js.html","title":"Source: app/entity/NPC.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/entity/NPC.js 'use strict'; /** * @module entity/NPC */ let Entity = require('./Entity'); /** * * * @param {any} x * @param {any} y * @param {any} key * @constructor NPC */ function NPC(x, y, key) { Entity.call(this, x, y, key); /** * NPC Health. * * Setting max HP to 100 by default. */ this.maxHP = 100; this.HP = 100; this.sprintSpeed = 130; /** * Type of Entity */ this.type = 'npc'; /** * For all `NPC`s, I am defaulting the people they dislike * to monsters. This will be overridden in `Monster`. */ this.dislike = ['monster']; /** * @todo(anand): Fix this hack * This is a major hack. We are setting all NPCs to IMMOVABLE!! */ this.body.immovable = true; } NPC.prototype = Object.create(Entity.prototype); NPC.prototype.constructor = NPC; /** * This function tells an entity object to travel to a desired location * * @param {number} x * @param {number} y * @param {navMesh} navMesh -navigation mesh object * @param {boolean} sprint if true go fast * @return {boolean} return true if finished, otherwise false. */ NPC.prototype.gotoXY = function(x, y, navMesh, sprint = false) { // destination point const p2 = new Phaser.Point(x, y); // the entities location, respective to the center of its hit box const trueX = this.x+this.body.width / 2 + this.body.offset.x; const trueY = this.y+this.body.height / 2 + this.body.offset.y; const p1 = new Phaser.Point(trueX, trueY); // cool library magic const path = navMesh.findPath(p1, p2); /* 0. up * 1. right * 2. down * 3. left */ if (path) { // check to see if the target location is reached within 5 units if (path.length === 2 &amp;&amp; Math.abs(path[1].x - trueX) &lt; 5 &amp;&amp; Math.abs(path[1].y - trueY) &lt; 5) { if (this.state !== 'attacking') this.idleHere(); return true; } let currentTime = game.time.now; // limit the amount of direction changes to about 1 per 150 ms if (currentTime - this.directionLimiter &gt;= 150) { // confusing code that ram won't understand Math.abs(path[1].x - trueX) &gt;= Math.abs(path[1].y - trueY) ? this.moveInDirection(((path[1].x - trueX &lt; 0)*2)+1, sprint) : this.moveInDirection((path[1].y - trueY &gt; 0)*2, sprint); this.directionLimiter = currentTime; } } else { // if lost don't move this.idleHere(); this.destinationX = undefined; this.destinationY = undefined; } return false; }; /** * Allow an Entity object to wander * @param {navMesh} navMesh the maps navigation mesh * @param {Phaser.Point} topLeft top left cornor of the bounds (x,y) default 0,0 * @param {Phaser.Point} botRight bottom left cornor of the bounds (x,y) * default map width,hieght */ NPC.prototype.wander = function(navMesh, topLeft = new Phaser.Point(0, 0), botRight = new Phaser.Point(game.world.width, game.world.height)) { if (this.state === 'dead') { return; } // check if the npc is still thinking about going somewhere if (this.idleTimer != 0) { this.idleTimer -= 1; return; } // check if the npc is en route, otherrwise find a new route if (!(this.destinationX &amp;&amp; this.destinationY)) { this.destinationX = game.rnd.integerInRange(topLeft.x, botRight.x); this.destinationY = game.rnd.integerInRange(topLeft.y, botRight.y); if (Math.sqrt(Math.pow(this.destinationX - this.trueXY().x, 2) + Math.pow(this.destinationY - this.trueXY().y, 2)) &gt; 256) { // reset if path is too long this.destinationX = undefined; this.destinationY = undefined; } } // if destination is reached, clear current destination. // add a random timer to wait before wandering elsewhere // max about 12 seconds if (this.gotoXY(this.destinationX, this.destinationY, navMesh)) { this.destinationX = undefined; this.destinationY = undefined; this.idleTimer = game.rnd.integerInRange(1, 1200); } }; /** * Make the npc attack a target * @param {Entity} target target to attack * @param {navmesh} navMesh the navMesh of the map * @param {boolean=} sprint the navMesh of the map * @return {boolean} target no longer exists (probably dead) */ NPC.prototype.aggro = function(target, navMesh, sprint = false) { if (!target) { console.warn('target does not exist'); this.idleHere(); return true; } if (target.state === 'dead') { return true; } // check your location relative to target if (Math.abs(target.trueXY().x-this.trueXY().x) &gt;= Math.abs(target.trueXY().y - this.trueXY().y)) { // approach from left if (target.trueXY().x-this.trueXY().x &lt; 0) { if (this.gotoXY(target.trueXY().x+32, target.trueXY().y, navMesh, sprint)) { this.setDirection('left'); this.attack(); } } else { // approach from right if (this.gotoXY(target.trueXY().x-32, target.trueXY().y, navMesh, sprint)) { this.setDirection('right'); this.attack(); } } } else { // approach from up if (target.trueXY().y-this.trueXY().y &lt; 0) { if (this.gotoXY(target.trueXY().x, target.trueXY().y+32, navMesh, sprint)) { this.setDirection('up'); this.attack(); } } else { // approach from down if (this.gotoXY(target.trueXY().x, target.trueXY().y-32, navMesh, sprint)) { this.setDirection('down'); this.attack(); } } } }; /** * @param {navmesh} navMesh the navMesh of the map * @param {Phaser.Point} topLeft top left bounds the entity can wander in. * @param {Phaser.Point} botRight bottom right bounds the entity can wander in. * @param {Entity} player the player! * @param {string} behavior neutral or aggresive for now */ NPC.prototype.updateAI = function(navMesh, topLeft, botRight, player, behavior) { if (this.state === 'dead') return; this.aiStatus = behavior; switch (this.aiStatus) { case ('neutral'): this.wander(navMesh, topLeft, botRight); break; case ('aggressive'): if (Math.sqrt(Math.pow(player.trueXY().x - this.trueXY().x, 2) + Math.pow(player.trueXY().y - this.trueXY().y, 2)) &lt; 192) { // if in range aggro to player this.aggro(player, navMesh); this.aggroStatus = true; } else { if (this.aggroStatus) { // aggro out of range, stop maybe? then continue wandering this.idleHere(); this.aggroStatus = false; } // otherwise wander around this.wander(navMesh, topLeft, botRight); } break; default: console.warn('no behavior defined'); break; } }; module.exports = NPC; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_entity_Player.js.html":{"id":"app_entity_Player.js.html","title":"Source: app/entity/Player.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/entity/Player.js 'use strict'; /** * @module entity/Player */ let Entity = require('./Entity'); /** * * * @param {any} x * @param {any} y * @param {any} key * @constructor Player */ function Player(x, y, key) { Entity.call(this, x, y, key); /** * Player Health. * * Setting max HP to 100 by default. */ this.maxHP = 100; this.HP = 100; this.score = 0; this.daysSurvived = 1; this.type = 'player'; this.converse('Press Escape for help'); } Player.prototype = Object.create(Entity.prototype); Player.prototype.constructor = Player; // Player.prototype.die = function() { // Entity.die.call(this); // }; module.exports = Player; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_factory_Factory.js.html":{"id":"app_factory_Factory.js.html","title":"Source: app/factory/Factory.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/factory/Factory.js 'use strict'; /** * @module Factory */ const Map = require('../util/Map'); /** * * @param {*} x * @param {*} y * @param {*} bounds * @return {boolean} * @function */ function withinBounds(x, y, bounds) { for (let i = 0; i &lt; bounds.length; i ++) { if (x &gt;= bounds[i][0].x &amp;&amp; x &lt;= bounds[i][1].x &amp;&amp; y &gt;= bounds[i][0].y &amp;&amp; y &lt;= bounds[i][1].y) { return true; } } return false; } /** * * @param {*} bounds * @return {Object} * @function */ function randInBounds(bounds) { let b = bounds[game.rnd.integerInRange(0, bounds.length -1 )]; return { x: game.rnd.integerInRange(b[0].x, b[1].x), y: game.rnd.integerInRange(b[0].y, b[1].y), }; } /** * * * @param {any} entity * @param {any} group * @param {Array} bounds * @param {number=} limit * @constructor Factory */ function Factory(entity, group, bounds, limit) { if (entity === undefined || bounds === undefined) { throw new TypeError('Undefined type?'); } this.Entity = entity; this.group = group; this.bounds = bounds; this.limit = limit || Infinity; this.generated = 0; } /** * This will return a new `Entity` if the number of existing * `Entities` has not exceeded the `limit`. * * @param {number} x * @param {number} y * @param {any} key * @return {Entity} */ Factory.prototype.next = function(x, y, key) { /** * Return nothing if limit has been reached */ let living = this.group.countLiving(); if ( living &gt;= this.limit) return; if (x === null || y === null || !withinBounds(x, y, this.bounds)) { let o = randInBounds(this.bounds); x = o.x; y = o.y; } /** * Else, return a new entity and add it to the list. */ let sprite = new this.Entity(x, y, key); this.group.add(sprite); sprite.setDirection(Math.floor(Math.random() * 4) + 1); sprite.idleHere(); return sprite; }; module.exports = Factory; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_util_Map.js.html":{"id":"app_util_Map.js.html","title":"Source: app/util/Map.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/util/Map.js /** * @module Map */ const kdTree = require('../lib/kdtreejs/kdTree'); const _ = require('lodash'); const Entity = require('../entity/Entity'); const Sampling = require('discrete-sampling'); let distanceFormula2 = function(e1, e2) { return Math.pow(e1.x - e2.x, 2) + Math.pow(e1.y - e2.y, 2); }; let tree = null; let list = {}; /** * @namespace Map */ let Map = {}; /** * Create a new map * * @param {Array} entities * @param {any} dimensions */ Map.create = function(entities, dimensions) { if (entities.length === 0 || !(entities[0] instanceof Entity)) { throw new TypeError('Invalid array'); } let dim = dimensions; if (dim === undefined) dim = ['x', 'y']; let points = _.map(entities, function(entity, idx) { list[entity.id] = entity; return { x: entity.trueXY().x, y: entity.trueXY().y, id: entity.id, }; }); tree = new kdTree.kdTree(points, distanceFormula2, dim); }; /** * * * @param {Object} entity */ Map.insert = function(entity) { if (tree === null || list.length === 0) { this.create([entity]); } else if (list.hasOwnProperty(entity.id)) { // Do nothing } else { tree.insert({ x: entity.trueXY().x, y: entity.trueXY().y, id: entity.id, }); list[entity.id] = entity; } }; /** * * * @param {Object} entity - Entity * @param {number} count - Number of neighbors * @param {any} maxDistance - Range to check within * @return {Array.Neighbors} */ Map.nearest = function(entity, count, maxDistance) { if (tree === null) { return []; } if (!(entity instanceof Entity)) { throw new TypeError('Invalid array'); } point = { x: entity.trueXY().x, y: entity.trueXY().y, id: entity.id, }; maxDistance = Math.pow(maxDistance, 2); if (count === undefined) { count = 1; } return tree.nearest(point, count + 1, maxDistance) .map((point) =&gt; { return [ this.getByID(point[0].id), Math.sqrt(point[1]), ]; }) .filter((e) =&gt; (entity.id === point.id)); }; /** * Get n discrete samples from array * * @param {number} [n=] - Number of samples to pick. Default = 1 * @return {any[]} */ Map.discreteSamples = function(n = 1) { return Sampling.sample_from_array(Object.values(list), n, false); }; Map.sampleRandom = function(max) { return Sampling.sample_from_array(Object.values(list), Math.floor(Math.random() * max), false); }; /** * Get Entity with ID * * @param {string} id - ID of `Entity` * @return {Entity} */ Map.getByID = function(id) { return list[id]; }; Map.printMap = function() { return tree.toJSON(); }; Map.toJSON = function() { return tree.toJSON(); }; module.exports = Map; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_ripple_engine.js.html":{"id":"app_ripple_engine.js.html","title":"Source: app/ripple/engine.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/ripple/engine.js /** * @module Ripple */ const path = require('path'); const Sampling = require('discrete-sampling'); const Map = require('../util/Map'); const uuid = require('../util/uuid'); const Entity = require('../entity/Entity'); /* ############### Algorithm parameters ############### */ /** * The radius withing which to find people * @constant */ const gossipRadius = 256; // pixels /** * Number of targets to gossip to * @constant */ const numTargets = 1; /** * Number of nearest neighbors * @constant */ const kNN = 3; /** * * @constructor Ripple */ function Ripple() { // console.log(path.join(__dirname, 'worker.js')); // this.worker = new Worker(path.join(__dirname, 'worker.js')); // this.worker.onmessage = this.triggerConversation; // this.timer = null; // const self = this; // (function updateWorker() { // self.worker.postMessage({ // tree: Map.toJSON(), // }); // self.timer = setTimeout(updateWorker, 1500); // })(); }; Ripple.prototype.triggerGossip = function(source) { let nearest = Map.nearest(source, kNN + 1, gossipRadius); let gossipMongers = nearest // .filter((p) =&gt; p[1] === 0) .map((e) =&gt; { return e[0]; }); let n = Math.min(numTargets, gossipMongers.length); gossipMongers = Sampling.sample_from_array(gossipMongers, n, false); let info = source.information[game.rnd.integerInRange(0, source.information.length - 1)]; // if (info) { // console.log('pako'); // } for (let i = 0; i &lt; gossipMongers.length &amp;&amp; info; i++) { Map.getByID(gossipMongers[i].id).learnInfo(info); } }; /** * * * @param {any} e * @deprecated */ Ripple.prototype.triggerConversation = function(e) { let source = Map.getByID(e.data.source); let targets = e.data.targets; let info = source.information[game.rnd.integerInRange(0, source.information.length - 1)]; for (let i = 0; i &lt; targets.length &amp;&amp; info; i++) { Map.getByID(targets[i][0].id).learnInfo(info); /** * @todo(anand): Trigger convo box; */ } }; /** * Get the average reputation of the k nearest entities. * * @param {Entity} point * @param {number} k */ Ripple.prototype.getNearbyRep = function(point, k) { }; /** * * @param {any} witness - The `Entity` that witnessed the action * @param {any} target - The `Entity` that was the receiver of the action * @param {any} perp - The perpetrator of the action * @param {any} action - the actual action * @return {Object} * * Possible values of `action` are: * - `killed` */ Ripple.prototype.createRumor = function( witness, target, perp, action) { if (!(perp instanceof Entity) || !(target instanceof Entity) || !(perp instanceof Entity)) { throw new TypeError('This function requires an Entity'); } let p; if (perp.type === 'player') { p = 'player'; } else { p = perp.id; } let rumor = { id: uuid(), targetType: target.type, perp: p, action: action, }; witness.learnInfo(rumor); return rumor; }; Ripple.prototype.kill = function() { clearInterval(this.timer); } module.exports = Ripple; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_states.js.html":{"id":"app_states_states.js.html","title":"Source: app/states/states.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/states.js 'use strict'; /** * @module States */ let Boot = require('./boot'); let Load = require('./load'); let Play = require('./play'); let Menu = require('./menu'); let GameOver = require('./gameover'); let LoadMenu = require('./load-menu'); let Settings = require('./settings'); console.log('Importing States'); module.exports = { Boot: Boot, Menu: Menu, Load: Load, Play: Play, GameOver: GameOver, LoadMenu: LoadMenu, Settings: Settings, }; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_boot.js.html":{"id":"app_states_boot.js.html","title":"Source: app/states/boot.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/boot.js 'use strict'; /** * @module states/Boot */ let Boot = {}; Boot.preload = function() { game.load.tilemap('menu-map', 'assets/tilemaps/menu-map.json', null, Phaser.Tilemap.TILED_JSON); game.load.image('tileset', 'assets/tilemaps/outdoors.png'); }; Boot.create = function() { game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL; game.scale.pageAlignHorizontally = true; game.scale.pageAlignVertically = true; game.physics.startSystem(Phaser.Physics.ARCADE); game.state.start('Menu'); }; module.exports = Boot; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_gameover.js.html":{"id":"app_states_gameover.js.html","title":"Source: app/states/gameover.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/gameover.js /** * @module states/GameOver */ const ui = require('../ui/ui'); let GameOver = {}; GameOver.create = function() { let gameoverText = game.add.text(game.camera.width/2, 100, 'Game Over'); gameoverText.anchor.setTo(.5, .5); gameoverText.font = 'Press Start 2P'; gameoverText.fill = '#FFFFFF'; gameoverText.fontSize = '4em'; let scoreText = game.add.text(game.camera.width/2, 200, 'Score:'+game.score); scoreText.anchor.setTo(.5, .5); scoreText.font = 'Press Start 2P'; scoreText.fill = '#FFFFFF'; scoreText.fontSize = '3.6em'; let dayText = game.add.text(game.camera.width/2, 260, 'Days Survived:'+game.dayCount); dayText.anchor.setTo(.5, .5); dayText.font = 'Press Start 2P'; dayText.fill = '#FFFFFF'; dayText.fontSize = '3.6em'; let menu = new ui.MenuButton(game.camera.width/2, game.camera.height/2+60, 'Main Menu', null, ()=&gt;{ game.state.start('Menu'); }, '4em'); menu.text.fill = '#FFFFFF'; }; module.exports = GameOver; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_load.js.html":{"id":"app_states_load.js.html","title":"Source: app/states/load.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/load.js /** * @module states/Load */ let Load = {}; let loadedData = null; Load.init = function(data) { loadedData = data; }; Load.preload = function() { game.add.text(80, 150, 'loading...', { font: '30px Press Start 2P', fill: '#ffffff', }); game.load.tilemap('map', 'assets/tilemaps/map2.json', null, Phaser.Tilemap.TILED_JSON); game.load.image('tileset', 'assets/tilemaps/outdoors.png'); game.load.image('hud_wasd', 'assets/HUD-elements/HUD_wasd.png'); game.load.image('hud_weapon', 'assets/HUD-elements/HUD_weapon.png'); game.load.image('hud_emptyHealth', 'assets/HUD-elements/HUD_emptyHealth.png'); game.load.image('hud_fullHealth', 'assets/HUD-elements/HUD_fullHealth.png'); game.load.image('hud_fullRep', 'assets/HUD-elements/HUD_fullRep.png'); game.load.image('hud_save', 'assets/HUD-elements/HUD_save_word.png'); game.load.image('hud_load', 'assets/HUD-elements/HUD_load_word.png'); game.load.image('hud_menu', 'assets/HUD-elements/HUD_menu.png'); game.load.spritesheet('enemy', 'assets/sprites/OrcEnemy.png', 64, 64, 273); game.load.spritesheet('woman', 'assets/sprites/woman.png', 64, 64, 273); game.load.spritesheet('player', 'assets/sprites/armor.png', 64, 64, 273); }; Load.create = function() { game.state.start('Play', true, false, loadedData); }; module.exports = Load; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_load-menu.js.html":{"id":"app_states_load-menu.js.html","title":"Source: app/states/load-menu.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/load-menu.js /** * @module states/LoadMenu */ 'use strict'; const dataStore = require('../util/data'); const moment = require('moment'); const ui = require('../ui/ui'); let LoadMenu = {}; /** * * * @param {any} key */ function loadGame() { console.log('Loading: ' + this.key); dataStore.loadState(this.key) .then((data) =&gt; { game.state.start('Load', true, false, data); }); } LoadMenu.preload = function() { }; LoadMenu.create = function() { // menu background stuff game.world.setBounds(0, 0, 2560, 800); this.map = game.add.tilemap('menu-map'); this.map.addTilesetImage('outdoors', 'tileset'); this.bgLayer = this.map.createLayer('bg1'); game.camera.x = game.menuCameraPos; // back button to go to menu screen this.back = new ui.MenuButton(0, 0, 'Back', null, ()=&gt;{ // when pressed start loading the game game.state.start('Menu'); }, '4em'); this.back.setLocation(game.camera.width - this.back.button.width, game.camera.height - this.back.button.height); console.log(this.back.button.x); let saveStates = []; dataStore.getSaveStates() .then((keys) =&gt; { saveStates = keys.map((k) =&gt; { let t = 'Autosave'; if (k !== 'autosave') { let o = moment(k, moment.ISO_8601); t = o.format('MMM Do YY - hh:mm:ss. a'); } return { key: k, title: t, }; }); saveStates.sort((a, b) =&gt; { if (a.key == 'autosave') return 1; if (b.key == 'autosave') return -1; let am = moment(a.key); let bm = moment(b.key); if (am.isAfter(bm)) return -1; if (am.isBefore(bm)) return 1; return 0; }); let autosaveIndex = saveStates.findIndex( (s) =&gt;s.key === 'autosave'); if (autosaveIndex &gt; -1) { saveStates.splice(autosaveIndex, 1); this.autosave = new ui.MenuButton(game.camera.width / 2, 100, 'Autosave', 'autosave', loadGame ); } this.buttonList = new ui.ButtonList(saveStates, loadGame); }) .catch((reason) =&gt; { console.error(reason); }); }; LoadMenu.update = function() { // menu background stuff if (game.camera.x === 1280) { game.camera.x = 0; game.menuCameraPos = game.camera.x; } game.camera.x += 1; game.menuCameraPos = game.camera.x; }; module.exports = LoadMenu; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_menu.js.html":{"id":"app_states_menu.js.html","title":"Source: app/states/menu.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/menu.js /** * @module states/Menu */ 'use strict'; const ui = require('../ui/ui'); let Menu = {}; Menu.create = function() { game.world.setBounds(0, 0, 2560, 640); this.map = game.add.tilemap('menu-map'); this.map.addTilesetImage('outdoors', 'tileset'); this.bgLayer = this.map.createLayer('bg1'); if (game.menuCameraPos) { game.camera.x = game.menuCameraPos; } this.pendragonText = game.add.text(game.camera.width/2, 100, 'Pendragon'); this.pendragonText.anchor.setTo(.5, .5); this.pendragonText.font = 'Press Start 2P'; this.pendragonText.fill = '#000000'; this.pendragonText.fontSize = '6em'; this.pendragonText.fixedToCamera = true; // add a play button this.play = new ui.MenuButton( game.camera.width/2, this.pendragonText.y + 150, 'Play', null, function() { game.stage.backgroundColor = '#000000'; game.state.start('Load'); }, '5em'); // button to go to the loading menu this.load = new ui.MenuButton( game.camera.width/2, this.play.button.y + 100, 'Load', null, function() { game.stage.backgroundColor = '#000000'; game.state.start('LoadMenu'); }, '5em'); // button to go to the settings menu this.settings = new ui.MenuButton( game.camera.width/2, this.load.button.y + 100, 'Settings', null, ()=&gt; { game.state.start('Settings'); }, '5em' ); }; Menu.update = function() { if (game.camera.x === 1280) { game.camera.x = 0; game.menuCameraPos = game.camera.x; } game.camera.x += 1; game.menuCameraPos = game.camera.x; this.r = game.rnd.integerInRange(0, 256); this.g = game.rnd.integerInRange(0, 256); this.b = game.rnd.integerInRange(0, 256); this.pendragonText.setShadow(5, 5, 'rgba('+ this.r +',' +this.b +','+this.g +',.75)', 1); }; module.exports = Menu; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_play.js.html":{"id":"app_states_play.js.html","title":"Source: app/states/play.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/play.js 'use strict'; /** * @module states/Play */ const UI = require('../ui/ui'); const Player = require('../entity/Player'); const NavMesh = require('../ai/Nav-mesh.js'); const Monster = require('../entity/Monster'); const NPC = require('../entity/NPC'); const Factory = require('../factory/Factory'); const dataStore = require('../util/data'); const Map = require('../util/Map'); const Ripple = require('../ripple/engine'); let electron = require('electron'); let window = electron.remote.getCurrentWindow(); const Sampling = require('discrete-sampling'); const _ = require('lodash'); const npcBounds = [ [new Phaser.Point(1397, 1344), new Phaser.Point(1684, 1472)], [new Phaser.Point(778, 1328), new Phaser.Point(1065, 1553)], [new Phaser.Point(1660, 735), new Phaser.Point(1690, 1065)], [new Phaser.Point(1800, 2200), new Phaser.Point(3000, 2700)], ]; const monsterBounds = [ [new Phaser.Point(3510, 2907), new Phaser.Point(3908, 3458)], [new Phaser.Point(3464, 688), new Phaser.Point(3868, 1274)], ]; let loadedData = null; let timerIDs = []; let Play = {}; Play.init = function(data) { if (data) { loadedData = data; }; }; Play.setLoadData = function(data) { loadedData = data; }; Play.preload = function() { /** * Map creation */ this.map = game.add.tilemap('map'); this.map.addTilesetImage('outdoors', 'tileset'); this.bgLayer = this.map.createLayer('bgLayer'); this.bgOverlap2 = this.map.createLayer('bgOverlap2'); this.bgOverlap = this.map.createLayer('bgOverlap'); this.blockOverlap = this.map.createLayer('blkOverlap'); this.blockLayer = this.map.createLayer('blkLayer'); game.add.existing(this.blockLayer); this.blockLayer.resizeWorld(); this.bgLayer.resizeWorld(); this.game = game; this.navMesh = new NavMesh(this.map); // Input for game this.keyboard = game.input.keyboard; this.keyboard.onDownCallback = ()=&gt; { switch (game.input.keyboard.event.keyCode) { // 27 = escape case 27: this.pauseGame(); break; default: break; } }; /** * HUD elements * * @todo(anand): Can this be improved? May be making code slow. */ this.wpn = game.add.sprite(0, 0, 'hud_weapon'); this.wpn.width /= 2; this.wpn.height /= 2; this.wpn.x = game.camera.width - this.wpn.width; this.wpn.fixedToCamera = true; this.textStyle = { font: 'Press Start 2P', fill: '#ffff00', align: 'center', fontSize: '2em', stroke: 'black', strokeThickness: '5', }; this.healthLabel = game.add.text(0, 5, 'Health', this.textStyle); this.healthLabel.fixedToCamera = true; this.repLabel = game.add.text(0, this.healthLabel.height + 10, 'Rep', this.textStyle); this.repLabel.fixedToCamera = true; this.scoreLabel = game.add.text(0, 0, 'Score: 0', this.textStyle); this.scoreLabel.x = game.camera.width - (1.5 * this.scoreLabel.width); this.scoreLabel.y = game.camera.height - this.scoreLabel.height; this.scoreLabel.fixedToCamera = true; this.dayLabel = game.add.text(0, 0, 'Score: 0', this.textStyle); this.dayLabel.x = game.camera.width - (1.5 * this.dayLabel.width); this.dayLabel.y = game.camera.height - (2 * this.dayLabel.height); this.dayLabel.fixedToCamera = true; this.emptyHealthBar = game.add.sprite(this.healthLabel.width + 5, 0, 'hud_emptyHealth'); this.emptyHealthBar.fixedToCamera = true; this.emptyHealthBar.height = 20; this.fullHealthBar = game.add.sprite(this.healthLabel.width + 7, 2, 'hud_fullHealth'); this.fullHealthBar.fixedToCamera = true; this.fullHealthBar.width /= 2; this.fullHealthBar.height = 20; this.emptyRepBar = game.add.sprite(this.healthLabel.width + 5, this.emptyHealthBar.height + 5, 'hud_emptyHealth'); this.emptyRepBar.fixedToCamera = true; this.emptyRepBar.height = 20; this.fullRepBar = game.add.sprite(this.healthLabel.width + 7, this.emptyHealthBar.height + 7, 'hud_fullRep'); this.fullRepBar.fixedToCamera = true; this.barRealWidth = this.fullRepBar.width; this.fullRepBar.width /= 2; this.fullRepBar.height = 20; this.hudGroup = game.add.group(); this.hudGroup.addMultiple([ this.wpn, this.healthLabel, this.repLabel, this.scoreLabel, this.dayLabel, this.emptyHealthBar, this.fullHealthBar, this.emptyRepBar, this.fullRepBar, ]); }; /** * pauses the game */ Play.pauseGame = function() { game.paused ? game.paused = false : game.paused = true; if (game.paused) { // reveal pause menu for (let i = 0; i &lt; this.pauseMenu.length; i++) { this.pauseMenu[i].reveal(); this.pauseBg.visible = true; this.controlText.visible = true; } } else { // hide the menu for (let i = 0; i &lt; this.pauseMenu.length; i++) { this.pauseMenu[i].hide(); this.pauseBg.visible = false; this.controlText.visible = false; } } }; Play.create = function() { // this.player.bringToTop(); /** * Check if we should load game. */ if (loadedData) { this.loadBoard(loadedData); } else { this.populateBoard(); } /** * Center camera on player */ this.game.camera.follow(this.player); this.map.setCollisionBetween(1, 10000, true, this.blockLayer); this.map.setCollisionBetween(1, 10000, true, this.blockOverlap); /** * Day night cycle */ this.light = game.add.graphics(); this.light.beginFill(0x18007A); this.light.alpha = 0; this.light.drawRect(0, 0, game.camera.width, game.camera.height); this.light.fixedToCamera = true; this.light.endFill(); this.dayTime = true; /** * Pause menu set up */ this.pauseMenu = []; // pause background this.pauseBg = game.add.graphics(); this.pauseBg.beginFill(0x0); this.pauseBg.alpha = .2; this.pauseBg.visible = false; this.pauseBg.drawRect(0, 0, game.camera.width, game.camera.height); this.pauseBg.fixedToCamera = true; // controls this.controlText = game.add.text(game.camera.width/2, 600, 'Up: W Left: A\\nDown: S Right: D\\nMelee: M Sprint: Shift'); this.controlText.font = 'Press Start 2P'; this.controlText.fill = '#ff5100'; this.controlText.stroke = '#0'; this.controlText.strokeThickness = 5; this.controlText.fontSize = '3em'; this.controlText.anchor.setTo(.5, .5); this.controlText.align = 'left'; this.controlText.fixedToCamera = true; this.controlText.visible = false; // add a save button this.pauseMenu.push(new UI.MenuButton(game.camera.width/2, 200, ' Save ', null, ()=&gt;{ console.log('Manually saving'); this.pauseMenu[0].text.text = ' Save ' + String.fromCodePoint(0x1F60A); setTimeout(()=&gt; { this.pauseMenu[0].text.text = ' Save '; }, 750); dataStore.manualSaveState(); }, '4.5em' )); // add a settings button this.pauseMenu.push(new UI.MenuButton(game.camera.width/2, 300, window.isFullScreen() ? 'Windowed' : 'Fullscreen', null, ()=&gt;{ console.log('fulscreen toggled'); game.paused = false; window.setResizable(true); window.setFullScreenable(true); if (window.isFullScreen()) { window.setFullScreen(false); this.pauseMenu[1].text.text = 'Fullscreen'; } else { window.setFullScreen(true); this.pauseMenu[1].text.text = 'Windowed'; } window.setResizable(false); window.setFullScreenable(false); game.paused = true; }, '4.5em' )); // add a menu button this.pauseMenu.push(new UI.MenuButton(game.camera.width/2, 400, 'Main Menu', null, ()=&gt;{ game.input.keyboard.onDownCallback = null; game.state.start('Menu'); game.paused = false; }, '4.5em' )); // hide the pause menu for (let i = 0; i &lt; this.pauseMenu.length; i++) { this.pauseMenu[i].text.fill = '#00bbff'; this.pauseMenu[i].text.stroke = '#0'; this.pauseMenu[i].text.strokeThickness = 5; this.pauseMenu[i].hide(); } /** * Setting datastore callback interval * * Start autosaving 10 seconds after game starts */ let i = setInterval(() =&gt; { dataStore.autosaveEntity(this.player); this.monsterGroup.forEachAlive(dataStore.autosaveEntity); this.npcGroup.forEachAlive(dataStore.autosaveEntity); }, 1000); timerIDs.push(i); game.world.bringToTop(this.hudGroup); this.rippleGossip = new Ripple(); i = setInterval(() =&gt; { /** * Trigger a few conversations */ /** * Build the datastructure keeping track of Entities * * Period: 1.5 sec * * What I did here is call the things immediately and then */ this.generateMap(); let totalEntities = this.monsterGroup.total + this.npcGroup.total; Map.discreteSamples(Math.floor(totalEntities/3)).forEach(function(p, i) { this.rippleGossip.triggerGossip(p); }, this); }, 1000); }; Play.update = function() { if (this.player.state === 'dead') { game.score = this.player.score; game.dayCount = this.player.daysSurvived; setTimeout(() =&gt; { game.state.start('Game Over'); }, 2000); } while (this.fullHealthBar.width &lt; 146) this.fullHealthBar.width += 1; this.scoreLabel.text = 'Score: ' + this.player.score; this.dayLabel.text = 'Day ' + this.player.daysSurvived; /** * Debug Stuff */ // game.debug.body(this.player); // day / night cycle if (this.dayTime) { this.light.alpha += .0001; } else { this.light.alpha -= .0007; } if (this.light.alpha &lt;= 0 &amp;&amp; this.dayTime === false) { this.dayTime = true; this.player.daysSurvived++; this.light.alpha = 0; } if (this.light.alpha &gt;= .5) { this.dayTime = false; } /** * Deal with collision of entities */ game.physics.arcade.collide(this.entitiesGroup, this.blockLayer); game.physics.arcade.collide(this.entitiesGroup, this.blockOverlap); game.physics.arcade.collide(this.entitiesGroup, this.entitiesGroup, entityCollision, null, this); /** * NPC Code * * Threshold distance to attack is 8 tiles. * =&gt; 4 tiles on either side * =&gt; Distance to player = 128 * =&gt; 128^2 = 16384 */ let tL = new Phaser.Point(772, 448); let bR = new Phaser.Point(3426, 2893); let tL2 = new Phaser.Point(3151, 568); let bR2 = new Phaser.Point(4452, 3565); this.npcGroup.forEachAlive((e) =&gt; { /** * NOTE(anand): * * At this point, the NPC can either attack the player * or run away if they dont like the player * or do nothing otherwise. * * What I will do is this. * * If Reputation is below 0 (it will always be &gt;= -1): * Generate a random number between -1 and 0. * - If the number lies between -1 and the reputation * - avoid the player * - Else * - attck the player * Else (Rep &gt;= 0) * - wander */ let attitude = 'neutral'; if (e.reputation &lt; 0) { let decision = -Math.random(); if (decision &gt; e.reputation) { attitude = 'aggressive'; } } e.updateAI(this.navMesh, tL, bR, this.player, attitude); }); this.monsterGroup.forEachAlive((e) =&gt; { /** * NOTE(anand): * * For monster, I will attack regardless, * but I will sprint if I realllllly don't * like the player (less than -0.8?) */ let attitude = 'aggressive'; if (e.reputation &lt; -0.8) { // Really aggro e.slowSprint = e.sprintSpeed; e.sprintSpeed = 2 * e.slowSprint; } e.updateAI(this.navMesh, tL2, bR2, this.player, attitude); }); /** * PLAYER CODE */ if (this.player.state === 'dead') return; // Displays the hitbox for the Player // this.game.debug.body(this.player); // game.debug.body(this.player.collideBox); // game.debug.bodyInfo(this.player.collideBox, 32, 32); // SHIFT for running let sprint = false; if (this.keyboard.isDown(Phaser.Keyboard.SHIFT)) { sprint = true; } // Attack if ((this.keyboard.isDown(Phaser.Keyboard.M)) &amp;&amp; (this.player.state !== 'attacking')) { this.player.attack(); } else { /** * attacking == false * iff we are on the last frame. ie. the whole animation has played. */ // let temp = this.player.frame - 161; if ((temp % 13 === 0)) { if (!(this.keyboard.isDown(Phaser.Keyboard.M))) { this.player.state = 'idling'; } } } // Moving the player, but only if you aren't attacking. if (this.keyboard.isDown(Phaser.Keyboard.W)) { this.player.moveInDirection('up', sprint); } else if (this.keyboard.isDown(Phaser.Keyboard.S)) { this.player.moveInDirection('down', sprint); } else if (this.keyboard.isDown(Phaser.Keyboard.A)) { this.player.moveInDirection('left', sprint); } else if (this.keyboard.isDown(Phaser.Keyboard.D)) { this.player.moveInDirection('right', sprint); } else if (this.player.state !== 'attacking') { this.player.idleHere(); } /** * Deciding which character to render on top of the other. * * @todo(anand): Only do this check for the nearest 4 neighbors. */ let nearest4 = Map.nearest(this.player); nearest4.forEach((entity) =&gt; { // console.log(JSON.stringify([entity[0].trueXY(), entity[1]])); if ((this.player.y + this.player.height) &gt; (entity[0].y + entity[0].height)) { game.world.bringToTop(this.player); // console.log('player on top'); } else { // console.log('entity on top'); game.world.bringToTop(entity[0]); } }); let totalEntities = this.monsterGroup.total + this.npcGroup.total; let repNum = 0; let repSum = 0; Map.nearest(this.player, totalEntities, game.camera.width / 2) .forEach((point) =&gt; { /** * Get the average reputation of all the entities withing * the screen. */ if (point[0].alive) { repSum += point[0].reputation; repNum += 1; } }); let avgRep = (isNaN(repSum / repNum)) ? 0 : repSum / repNum; // console.log('Average Reputation: ' + avgRep); this.fullRepBar.width = (this.barRealWidth / 2) * (1 + (avgRep)); if (this.fullRepBar.width &lt; this.barRealWidth / 2) { this.fullRepBar.tint = 0x800000; } else if (this.fullRepBar.width &gt; this.barRealWidth / 2) { this.fullRepBar.tint = 0x66ff33; } else { this.fullRepBar.tint = 0x999999; } }; /** * Handle collision between two `Entities` * * This needs to be run in the context of Play state * * @param {any} entity1 * @param {any} entity2 */ function entityCollision(entity1, entity2) { // entity2 seems to be the Player, and entity1 is the Enemy if (entity1.frame === 272) { entity1.kill(); return; } if (entity2.frame === 272) { entity2.kill(); return; } /** * @todo(anand): Handle code to get injured */ if (game.physics.arcade.collide(entity1, this.blockLayer) || game.physics.arcade.collide(entity1, this.blockOverlap) || game.physics.arcade.collide(entity2, this.blockLayer) || game.physics.arcade.collide(entity2, this.blockOverlap)) { return; } /** * @todo(anand): I think this needs to be made general to all Entities * * We shouldn't be assuming that entity 2 is always going to be Player * also, other entities can attack too */ /** * The type of person who died */ let dead = null; let perp = null; let action = ''; if (entity2.state == 'attacking') { entity2.attack(); if (entity1.state !== 'dead') { entity1.die(); entity1.body.enable = false; } dead = entity1; perp = entity2; action = 'kill'; } if (entity1.state === 'attacking') { entity1.attack(); if (entity2.state !== 'dead') { entity2.die(); entity2.body.enable = false; } perp = entity1; dead = entity2; action = 'kill'; } /** * @todo(anand): Need to implement Game Over */ if (dead &amp;&amp; perp &amp;&amp; action) { if (perp.type === 'player') { switch (dead.type) { case 'npc': console.log('Killed an NPC :('); break; case 'monster': this.player.score++; break; } } // let nearest = Map.nearest(this.player, 3, 256); // nearest.forEach(function(p, i) { // if (p[0].state !== 'dead') { // let witness =p[0]; // this.rippleGossip.createRumor( // witness, // dead, // perp, // action); // } // }, this); let nearest = Map.nearest(this.player, 3, 256); let numWitnesses = Math.floor(Math.random() * nearest.length); let witnesses = Sampling.sample_from_array(nearest, numWitnesses, false); if (!witnesses) return; witnesses.forEach(function(p, i) { if (p[0].state !== 'dead') { let witness =p[0]; this.rippleGossip.createRumor( witness, dead, perp, action); } }, this); } } Play.populateBoard = function() { /** * Generate a factory and a few monsters */ this.monsterGroup = game.add.group(); this.monsterFactory = new Factory(Monster, this.monsterGroup, monsterBounds, 30); for (let i = 0; i &lt; 30; i++) { /** * Generate a random location withing 3/4ths of the map */ this.monsterFactory.next(null, null, 'enemy'); } /** * Generate a factory and a few NPCs */ this.npcGroup = game.add.group(); this.npcFactory = new Factory(NPC, this.npcGroup, npcBounds, 40); for (let i = 0; i &lt; 40; i++) { /** * Generate a random location withing 3/4ths of the map */ this.npcFactory.next(null, null, 'woman'); } /** * Create the Player, setting location and naming as 'player'. * Giving him Physics and allowing collision with the world boundaries. */ this.player = new Player(1971, 504, 'player'); /** * Add all Entities to the same group. */ this.entitiesGroup = game.add.group(); this.entitiesGroup.addMultiple([ this.player, this.npcGroup, this.monsterGroup, ]); }; Play.loadBoard = function(data) { let playerData = data.player; let monstersData = data.monsters; let npcData = data.npc; /** * Generate a factory and a few monsters */ this.monsterGroup = game.add.group(); this.monsterFactory = new Factory(Monster, this.monsterGroup, monsterBounds, Object.keys(monstersData).length); let i = 0; for (let id in monstersData) { if (Object.prototype.hasOwnProperty.call(monstersData, id)) { i = i + 1; // console.debug('Monster #' + i); let e = monstersData[id]; let E = this.monsterFactory.next(e.x, e.y, e.key); E.deserialize(e); } } /** * Generate a factory and a few NPCs */ i = 0; this.npcGroup = game.add.group(); this.npcFactory = new Factory(NPC, this.npcGroup, npcBounds, Object.keys(npcData).length); for (let id in npcData) { if (Object.prototype.hasOwnProperty.call(npcData, id)) { i = i + 1; // console.debug('NPC #' + i); let e = npcData[id]; let E = this.npcFactory.next(e.x, e.y, e.key); E.deserialize(e); } } /** * Create the Player, setting location and naming as 'player'. * Giving him Physics and allowing collision with the world boundaries. */ this.player = new Player(playerData.x, playerData.y, playerData.key); this.player.deserialize(playerData); /** * Add all Entities to the same group. */ this.entitiesGroup = game.add.group(); this.entitiesGroup.addMultiple([ this.player, this.npcGroup, this.monsterGroup, ]); }; Play.generateMap = function() { // setTimeout(() =&gt; { let entities = []; // entities.push(this.player); // I see no point in adding the player this.monsterGroup.forEachAlive(function(monster) { entities.push(monster); }); this.npcGroup.forEachAlive(function(npc) { entities.push(npc); }); Map.create(entities); // }, 1500); }; Play.autosaveData = function() { setTimeout(() =&gt; { dataStore.autosaveEntity(this.player); this.monsterGroup.forEachAlive(dataStore.autosaveEntity); this.npcGroup.forEachAlive(dataStore.autosaveEntity); }, 1000); }; Play.manualSaveData = function() { const self = this; dataStore.manualSaveEntity(sel.player); self.monsterGroup.forEachAlive(dataStore.manualSaveEntity); self.npcGroup.forEachAlive(dataStore.manualSaveEntity); }; /** * This will return the distance to the player squared. * * Square root calculation is not trivial. * * @param {Entity} entity * @return {number} */ Play.getPlayerDistance2 = function(entity) { let player = this.player.trueXY(); let e = entity.trueXY(); return Math.pow(player.x - e.x, 2) + Math.pow(player.y - e.y, 2); }; Play.shutdown = function() { if (this.rippleGossip) { this.rippleGossip.kill(); } timerIDs.forEach((id) =&gt; { clearInterval(id); }); }; Phaser.Tilemap.prototype.setCollisionBetween = function(start, stop, collides, layer, recalculate) { if (collides === undefined) { collides = true; } if (layer === undefined) { layer = this.currentLayer; } if (recalculate === undefined) { recalculate = true; } layer = this.getLayer(layer); for (let index = start; index &lt;= stop; index++) { if (collides) { this.collideIndexes.push(index); } else { let i = this.collideIndexes.indexOf(index); if (i &gt; -1) { this.collideIndexes.splice(i, 1); } } } for (let y = 0; y &lt; this.layers[layer].height; y++) { for (let x = 0; x &lt; this.layers[layer].width; x++) { let tile = this.layers[layer].data[y][x]; if (tile &amp;&amp; tile.index &gt;= start &amp;&amp; tile.index &lt;= stop) { if (collides) { tile.setCollision(true, true, true, true); } else { tile.resetCollision(); } tile.faceTop = collides; tile.faceBottom = collides; tile.faceLeft = collides; tile.faceRight = collides; } } } if (recalculate) { // Now re-calculate interesting faces this.calculateFaces(layer); } return layer; }; module.exports = Play; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_settings.js.html":{"id":"app_states_settings.js.html","title":"Source: app/states/settings.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/settings.js 'use strict'; /** * @module states/Settings */ const ui = require('../ui/ui'); let electron = require('electron'); let window = electron.remote.getCurrentWindow(); let Settings = {}; Settings.create = function() { // menu background stuff game.world.setBounds(0, 0, 2560, 800); this.map = game.add.tilemap('menu-map'); this.map.addTilesetImage('outdoors', 'tileset'); this.bgLayer = this.map.createLayer('bg1'); game.camera.x = game.menuCameraPos; // back button to go to menu screen this.back = new ui.MenuButton(0, 0, 'Back', null, ()=&gt;{ // when pressed start loading the game game.state.start('Menu'); }, '4em'); this.back.setLocation(game.camera.width - this.back.button.width, game.camera.height - this.back.button.height); console.log(this.back.button.x); this.settings = []; this.settings.push(new ui.MenuButton( game.camera.width/2, 200, window.isFullScreen() ? 'Windowed' : 'Fullscreen', null, ()=&gt;{ console.log('fulscreen toggled'); window.setResizable(true); window.setFullScreenable(true); if (window.isFullScreen()) { window.setFullScreen(false); this.settings[0].text.text = 'Fullscreen'; } else { window.setFullScreen(true); this.settings[0].text.text = 'Windowed'; } window.setResizable(false); window.setFullScreenable(false); }, '4em' )); }; module.exports = Settings; Settings.update = function() { // menu background stuff if (game.camera.x === 1280) { game.camera.x = 0; game.menuCameraPos = game.camera.x; } game.camera.x += 1; game.menuCameraPos = game.camera.x; }; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_states_win.js.html":{"id":"app_states_win.js.html","title":"Source: app/states/win.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/states/win.js /** * @module states/Win */ let Win = {}; Win.create = function() { let wkey = game.input.keyboard.addKey(Phaser.Keyboard.W); wkey.onDown.addOnce(this.restart, this); }; Win.restart = function() { game.state.start('Play'); }; module.exports = Win; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"app_ui_ui.js.html":{"id":"app_ui_ui.js.html","title":"Source: app/ui/ui.js","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Source: app/ui/ui.js /** * * @module ui/UI */ /** * A basic text button. * @param {number} x * @param {number} y * @param {string} text * @param {string} key - object associated with button * @param {function} func - on click callback function * @param {string} fontSize * @property {Phaser.Text} text - modify this to change the text. * @property {Phaser.Button} button - modify this to change the button. * * @constructor MenuButton */ function MenuButton(x, y, text, key, func, fontSize = '3em') { // add text over the button this.key = key; this.text = game.add.text(x, y, text); this.text.anchor.setTo(.5, .5); this.text.font = 'Press Start 2P'; this.text.fill = '#000000'; this.text.fontSize = fontSize; // the button this.button = game.add.button( x, y, null, func, this, 2, 1, 0); this.button.width = this.text.width; this.button.height = this.text.height; // hover effect this.button.anchor.setTo(.5, .5); this.button.onInputOver.add(function() { this.text.setShadow(3, 3, 'rgba(0,0,0,0.5)', 5); this.text.fontSize = parseFloat(this.text.fontSize)+.5 + 'em'; }, this); // hover off effect this.button.onInputOut.add(function() { this.text.setShadow(0, 0, 'rgba(0,0,0,0.5)', 0); this.text.fontSize = parseFloat(this.text.fontSize)-.5 + 'em'; // this.text.fill = '#000000'; }, this); this.button.fixedToCamera = true; this.text.fixedToCamera = true; this.kill = function() { this.button.kill(); this.text.kill(); }; } /** * set the location of a MenuButton * @param {number} x x location * @param {number} y location */ MenuButton.prototype.setLocation = function(x, y) { this.button.cameraOffset.x = x; this.text.cameraOffset.x = x; this.button.cameraOffset.y = y; this.text.cameraOffset.y = y; }; /** * Hide a button and disable it * @return {any} returns itself */ MenuButton.prototype.hide = function() { this.text.visible = false; this.button.inputEnabled = false; return this; }; /** * Reveal the button and enable it * @return {any} returns itself */ MenuButton.prototype.reveal = function() { this.text.cameraOffset.x = this.text.cameraOffset.x; this.button.cameraOffset.x = this.button.cameraOffset.x; this.button.inputEnabled = true; this.text.visible = true; return this; }; /** * Cyclable list of buttons. * @param {*} saves array of timestamps * @param {*} func function for buttons * @constructor ButtonList */ function ButtonList(saves, func) { this.saveButtons = []; this.saves = saves; this.currentPage = 0; let currentH = 160; this.startI = 0; this.currentI = 0; if (saves) { for (let i = this.currentI; i &lt; saves.length; i++) { this.currentI = i; this.saveButtons.push(new MenuButton(game.camera.width / 2, currentH, saves[i].title, saves[i].key, func)); currentH += 60; if (currentH &gt; 640) { break; } } } console.log(this.startI, this.currentI); this.nextPage = new MenuButton( game.camera.width / 2 + 80, game.camera.height - 80, '&gt;', null, () =&gt; { if (saves.length - this.startI &lt; 9) return; this.currentPage += 1; for (; this.startI &lt;= this.currentI; this.startI++) { this.saveButtons[this.startI].kill(); } let currentH = 160; for (let i = this.startI; i &lt; saves.length; i++) { this.currentI = i; this.saveButtons[i] = (new MenuButton(game.camera.width / 2, currentH, saves[i].title, saves[i].key, func)); currentH += 60; if (currentH &gt; 640) { break; } } console.log(this.startI, this.currentI); }); this.prevPage = new MenuButton( game.camera.width / 2 - 80, game.camera.height - 80, '&lt;', null, () =&gt; { if (this.currentPage === 0) return; this.currentPage -= 1; for (let i = this.startI; i &lt;= this.currentI; i++) { this.saveButtons[i].kill(); } this.startI -= 9; this.currentI = this.startI; currentH = 160; for (let i = this.startI; i &lt; saves.length; i++) { this.currentI = i; this.saveButtons[i] = (new MenuButton(game.camera.width / 2, currentH, saves[i].title, saves[i].key, func)); currentH += 60; if (currentH &gt; 640) { break; } } console.log(this.startI, this.currentI); }); } module.exports = { MenuButton: MenuButton, ButtonList: ButtonList, }; × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Modules Classes NavMesh NavMesh Entity Entity Monster Monster NPC NPC Player Player Factory Factory Ripple Ripple ButtonList ButtonList MenuButton MenuButton Namespaces Map Map × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Classes Classes NavMesh NavMesh Entity Entity Monster Monster NPC NPC Player Player Factory Factory Ripple Ripple ButtonList ButtonList MenuButton MenuButton Namespaces Map Map × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Namespaces Classes NavMesh NavMesh Entity Entity Monster Monster NPC NPC Player Player Factory Factory Ripple Ripple ButtonList ButtonList MenuButton MenuButton Namespaces Map Map × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton PendragonSimply put, Pendragon is just another single-player, RPG game. You will be a lone player who can interact with NPCs, and kill slimes and monsters. You will probably have a sword. If we feel like it. Meh... But as uninteresting as Pendragon seems, it is also kickass. Why, you ask? Brace yourself, because what follows is going to blow your mind... We let the NPCs gossip about you. Confused? Are you wondering why that is, as we put it, kickass? Most RPGs work this way. Player completes quest. Player reputation increases. Every NPC in the world knows about it immediately!!! Are you seriously telling me that NPCs have a hive mind! Obviously not, so we aim to solve that issue. The goal is to have NPCs in the vicinity acknowledge your actions as good or bad and then propagate them to the rest of the world via gossip. We like to call this Ripple Gossip. Want to play?Head over to our releases page and download the latest packaged app, extract it (if it is in a zip or tar file) and click on the app to run it (.app file for Mac, .exe for Windows, .AppImage and executable for Linux). Instructions for running on Windows: Download the Windows 64-bit Zip on our releases page Extract contents of the zip file Open uncompressed folder and run pendragon.exe For Contributors Clone the repo Change directories into the src/ folder npm install when in src/ folder npm start to boot up the game The source directory contains the following: app/: The frontend of the application running on PhaserJS Community Edition app.js: Entry point for front end. states/: The Phaser States entity/: The Entity abstraction and its sub-classes. factory/: The Entity factory abstraction. main.js: The backend main script data-store/: The database manager. × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-ai_NavMesh.html":{"id":"module-ai_NavMesh.html","title":"Module: ai/NavMesh","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: ai/NavMesh Source: app/ai/Nav-mesh.js, line 1 Classes NavMesh NavMesh Module: ai/NavMesh Source: app/ai/Nav-mesh.js, line 1 Classes NavMesh NavMesh × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-ai_NavMesh-NavMesh.html":{"id":"module-ai_NavMesh-NavMesh.html","title":"Class: NavMesh","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: NavMesh ai/NavMesh~ NavMesh new NavMesh(tilemap) Create a navigation mesh Parameters: Name Type Description tilemap tilemap Source: app/ai/Nav-mesh.js, line 10 Methods findPath(start, finish) → {path} Parameters: Name Type Description start Phaser.Point finish Phaser.Point Source: app/ai/Nav-mesh.js, line 31 Returns: path Type path findPath(start, finish) → {path} Parameters: Name Type Description start Phaser.Point finish Phaser.Point Source: app/ai/Nav-mesh.js, line 31 Returns: path Type path Class: NavMesh ai/NavMesh~ NavMesh new NavMesh(tilemap) Create a navigation mesh Parameters: Name Type Description tilemap tilemap Source: app/ai/Nav-mesh.js, line 10 Methods findPath(start, finish) → {path} Parameters: Name Type Description start Phaser.Point finish Phaser.Point Source: app/ai/Nav-mesh.js, line 31 Returns: path Type path findPath(start, finish) → {path} Parameters: Name Type Description start Phaser.Point finish Phaser.Point Source: app/ai/Nav-mesh.js, line 31 Returns: path Type path × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-backend_dbStore.html":{"id":"module-backend_dbStore.html","title":"Module: backend/dbStore","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: backend/dbStore Source: data-store/dbStore.js, line 2 Members &lt;static&gt; getStates Helper functions Source: data-store/dbStore.js, line 121 &lt;static&gt; getStates Helper functions Source: data-store/dbStore.js, line 121 &lt;static&gt; loadState Load game functions Source: data-store/dbStore.js, line 117 &lt;static&gt; loadState Load game functions Source: data-store/dbStore.js, line 117 &lt;static&gt; storeEntity Save game functions Source: data-store/dbStore.js, line 110 &lt;static&gt; storeEntity Save game functions Source: data-store/dbStore.js, line 110 Methods &lt;inner&gt; getStates() → {Promise} Get the saved state keys. Source: data-store/dbStore.js, line 72 Returns: Type Promise &lt;inner&gt; getStates() → {Promise} Get the saved state keys. Source: data-store/dbStore.js, line 72 Returns: Type Promise &lt;inner&gt; storeEntity(data) Store Entity into JSON file. Parameters: Name Type Description data any Source: data-store/dbStore.js, line 23 &lt;inner&gt; storeEntity(data) Store Entity into JSON file. Parameters: Name Type Description data any Source: data-store/dbStore.js, line 23 Module: backend/dbStore Source: data-store/dbStore.js, line 2 Members &lt;static&gt; getStates Helper functions Source: data-store/dbStore.js, line 121 &lt;static&gt; getStates Helper functions Source: data-store/dbStore.js, line 121 &lt;static&gt; loadState Load game functions Source: data-store/dbStore.js, line 117 &lt;static&gt; loadState Load game functions Source: data-store/dbStore.js, line 117 &lt;static&gt; storeEntity Save game functions Source: data-store/dbStore.js, line 110 &lt;static&gt; storeEntity Save game functions Source: data-store/dbStore.js, line 110 Methods &lt;inner&gt; getStates() → {Promise} Get the saved state keys. Source: data-store/dbStore.js, line 72 Returns: Type Promise &lt;inner&gt; getStates() → {Promise} Get the saved state keys. Source: data-store/dbStore.js, line 72 Returns: Type Promise &lt;inner&gt; storeEntity(data) Store Entity into JSON file. Parameters: Name Type Description data any Source: data-store/dbStore.js, line 23 &lt;inner&gt; storeEntity(data) Store Entity into JSON file. Parameters: Name Type Description data any Source: data-store/dbStore.js, line 23 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-dataStore.html":{"id":"module-dataStore.html","title":"Module: dataStore","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: dataStore Source: app/util/data.js, line 2 Methods &lt;static&gt; autosaveEntity(entity) Store entities as autosave Parameters: Name Type Description entity module:entity/Entity~Entity Source: app/util/data.js, line 28 &lt;static&gt; autosaveEntity(entity) Store entities as autosave Parameters: Name Type Description entity module:entity/Entity~Entity Source: app/util/data.js, line 28 &lt;static&gt; getLoadedState(key) → {Promise} Get the previously loaded state as a Promise Parameters: Name Type Description key any Source: app/util/data.js, line 80 Returns: Promise with previously loaded data Type Promise &lt;static&gt; getLoadedState(key) → {Promise} Get the previously loaded state as a Promise Parameters: Name Type Description key any Source: app/util/data.js, line 80 Returns: Promise with previously loaded data Type Promise &lt;static&gt; getSaveStates() → {Promise} Get a list of save states Source: app/util/data.js, line 46 Returns: Promise with list of save states Type Promise &lt;static&gt; getSaveStates() → {Promise} Get a list of save states Source: app/util/data.js, line 46 Returns: Promise with list of save states Type Promise &lt;static&gt; loadState(key) → {Promise} Load a state given a save state key Parameters: Name Type Description key string Save State Key Source: app/util/data.js, line 63 Returns: Promise with saved data Type Promise &lt;static&gt; loadState(key) → {Promise} Load a state given a save state key Parameters: Name Type Description key string Save State Key Source: app/util/data.js, line 63 Returns: Promise with saved data Type Promise &lt;static&gt; manualSaveState(entity) Parameters: Name Type Description entity any Deprecated: Yes Source: app/util/data.js, line 37 &lt;static&gt; manualSaveState(entity) Parameters: Name Type Description entity any Deprecated: Yes Source: app/util/data.js, line 37 &lt;static&gt; resetLoadState() Invalidate the previously loaded state Source: app/util/data.js, line 87 &lt;static&gt; resetLoadState() Invalidate the previously loaded state Source: app/util/data.js, line 87 &lt;inner&gt; storeEntity(entity, channel) Update entity by sending information to backend Parameters: Name Type Description entity any channel string Source: app/util/data.js, line 11 &lt;inner&gt; storeEntity(entity, channel) Update entity by sending information to backend Parameters: Name Type Description entity any channel string Source: app/util/data.js, line 11 Module: dataStore Source: app/util/data.js, line 2 Methods &lt;static&gt; autosaveEntity(entity) Store entities as autosave Parameters: Name Type Description entity module:entity/Entity~Entity Source: app/util/data.js, line 28 &lt;static&gt; autosaveEntity(entity) Store entities as autosave Parameters: Name Type Description entity module:entity/Entity~Entity Source: app/util/data.js, line 28 &lt;static&gt; getLoadedState(key) → {Promise} Get the previously loaded state as a Promise Parameters: Name Type Description key any Source: app/util/data.js, line 80 Returns: Promise with previously loaded data Type Promise &lt;static&gt; getLoadedState(key) → {Promise} Get the previously loaded state as a Promise Parameters: Name Type Description key any Source: app/util/data.js, line 80 Returns: Promise with previously loaded data Type Promise &lt;static&gt; getSaveStates() → {Promise} Get a list of save states Source: app/util/data.js, line 46 Returns: Promise with list of save states Type Promise &lt;static&gt; getSaveStates() → {Promise} Get a list of save states Source: app/util/data.js, line 46 Returns: Promise with list of save states Type Promise &lt;static&gt; loadState(key) → {Promise} Load a state given a save state key Parameters: Name Type Description key string Save State Key Source: app/util/data.js, line 63 Returns: Promise with saved data Type Promise &lt;static&gt; loadState(key) → {Promise} Load a state given a save state key Parameters: Name Type Description key string Save State Key Source: app/util/data.js, line 63 Returns: Promise with saved data Type Promise &lt;static&gt; manualSaveState(entity) Parameters: Name Type Description entity any Deprecated: Yes Source: app/util/data.js, line 37 &lt;static&gt; manualSaveState(entity) Parameters: Name Type Description entity any Deprecated: Yes Source: app/util/data.js, line 37 &lt;static&gt; resetLoadState() Invalidate the previously loaded state Source: app/util/data.js, line 87 &lt;static&gt; resetLoadState() Invalidate the previously loaded state Source: app/util/data.js, line 87 &lt;inner&gt; storeEntity(entity, channel) Update entity by sending information to backend Parameters: Name Type Description entity any channel string Source: app/util/data.js, line 11 &lt;inner&gt; storeEntity(entity, channel) Update entity by sending information to backend Parameters: Name Type Description entity any channel string Source: app/util/data.js, line 11 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_Entity.html":{"id":"module-entity_Entity.html","title":"Module: entity/Entity","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: entity/Entity Source: app/entity/Entity.js, line 3 Classes Entity Entity Members &lt;inner, constant&gt; DIRECTIONS A lookup table for directions Source: app/entity/Entity.js, line 19 &lt;inner, constant&gt; DIRECTIONS A lookup table for directions Source: app/entity/Entity.js, line 19 Module: entity/Entity Source: app/entity/Entity.js, line 3 Classes Entity Entity Members &lt;inner, constant&gt; DIRECTIONS A lookup table for directions Source: app/entity/Entity.js, line 19 &lt;inner, constant&gt; DIRECTIONS A lookup table for directions Source: app/entity/Entity.js, line 19 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_Entity-Entity.html":{"id":"module-entity_Entity-Entity.html","title":"Class: Entity","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: Entity module:entity/Entity~ Entity new Entity(x, y, key) The Entity class is the base class for all game entities. It needs to have to following properties Health (Upto the child class to define) Weapon Inventory @todo Factions @todo It also cannot step outside world bounds. Parameters: Name Type Description x number The x coordinate of Entity on the canvas y number The y coordinate of Entity on the canvas key string The key to the loaded spritesheet Source: app/entity/Entity.js, line 21 See: Phaser.Sprite Members direction Direction initialized to down. Must be changed only when new direction is chosen. Source: app/entity/Entity.js, line 48 direction Direction initialized to down. Must be changed only when new direction is chosen. Source: app/entity/Entity.js, line 48 reputation Reputation and Gossip Source: app/entity/Entity.js, line 112 reputation Reputation and Gossip Source: app/entity/Entity.js, line 112 speed Miscellaneous attributes. Source: app/entity/Entity.js, line 60 speed Miscellaneous attributes. Source: app/entity/Entity.js, line 60 state States. State can be 'idling', 'walking', 'attacking' Source: app/entity/Entity.js, line 99 state States. State can be 'idling', 'walking', 'attacking' Source: app/entity/Entity.js, line 99 type Type and ID Source: app/entity/Entity.js, line 106 type Type and ID Source: app/entity/Entity.js, line 106 weapon Begin with no weapon. Source: app/entity/Entity.js, line 55 weapon Begin with no weapon. Source: app/entity/Entity.js, line 55 Methods learnInfo(rumor) Parameters: Name Type Description rumor Object Source: app/entity/Entity.js, line 405 learnInfo(rumor) Parameters: Name Type Description rumor Object Source: app/entity/Entity.js, line 405 moveInDirection(direction, sprint) Method to move any Entity The parameter direction has to be one of 'up', 'down', 'left' or 'right'. Another option is to use: UP RIGHT DOWN LEFT Parameters: Name Type Description direction string | number sprint Boolean Whether to sprint or not Source: app/entity/Entity.js, line 200 moveInDirection(direction, sprint) Method to move any Entity The parameter direction has to be one of 'up', 'down', 'left' or 'right'. Another option is to use: UP RIGHT DOWN LEFT Parameters: Name Type Description direction string | number sprint Boolean Whether to sprint or not Source: app/entity/Entity.js, line 200 setAnimations(frames) Set the animations of the Entity. Parameters: Name Type Description frames object Object containing the animation frames Source: app/entity/Entity.js, line 126 setAnimations(frames) Set the animations of the Entity. Parameters: Name Type Description frames object Object containing the animation frames Source: app/entity/Entity.js, line 126 setDirection(direction) Set the direction of the sprite Parameters: Name Type Description direction string | number Source: app/entity/Entity.js, line 332 setDirection(direction) Set the direction of the sprite Parameters: Name Type Description direction string | number Source: app/entity/Entity.js, line 332 toString() → {string} Return the Name of the function. This is a hack and should be used only for debugging. Source: app/entity/Entity.js, line 380 Returns: Type string toString() → {string} Return the Name of the function. This is a hack and should be used only for debugging. Source: app/entity/Entity.js, line 380 Returns: Type string trueXY() → {Object} Get the center of the Hitbox of the entity Source: app/entity/Entity.js, line 392 Returns: Point with x and y Type Object trueXY() → {Object} Get the center of the Hitbox of the entity Source: app/entity/Entity.js, line 392 Returns: Point with x and y Type Object Class: Entity module:entity/Entity~ Entity new Entity(x, y, key) The Entity class is the base class for all game entities. It needs to have to following properties Health (Upto the child class to define) Weapon Inventory @todo Factions @todo It also cannot step outside world bounds. Parameters: Name Type Description x number The x coordinate of Entity on the canvas y number The y coordinate of Entity on the canvas key string The key to the loaded spritesheet Source: app/entity/Entity.js, line 21 See: Phaser.Sprite Members direction Direction initialized to down. Must be changed only when new direction is chosen. Source: app/entity/Entity.js, line 48 direction Direction initialized to down. Must be changed only when new direction is chosen. Source: app/entity/Entity.js, line 48 reputation Reputation and Gossip Source: app/entity/Entity.js, line 112 reputation Reputation and Gossip Source: app/entity/Entity.js, line 112 speed Miscellaneous attributes. Source: app/entity/Entity.js, line 60 speed Miscellaneous attributes. Source: app/entity/Entity.js, line 60 state States. State can be 'idling', 'walking', 'attacking' Source: app/entity/Entity.js, line 99 state States. State can be 'idling', 'walking', 'attacking' Source: app/entity/Entity.js, line 99 type Type and ID Source: app/entity/Entity.js, line 106 type Type and ID Source: app/entity/Entity.js, line 106 weapon Begin with no weapon. Source: app/entity/Entity.js, line 55 weapon Begin with no weapon. Source: app/entity/Entity.js, line 55 Methods learnInfo(rumor) Parameters: Name Type Description rumor Object Source: app/entity/Entity.js, line 405 learnInfo(rumor) Parameters: Name Type Description rumor Object Source: app/entity/Entity.js, line 405 moveInDirection(direction, sprint) Method to move any Entity The parameter direction has to be one of 'up', 'down', 'left' or 'right'. Another option is to use: UP RIGHT DOWN LEFT Parameters: Name Type Description direction string | number sprint Boolean Whether to sprint or not Source: app/entity/Entity.js, line 200 moveInDirection(direction, sprint) Method to move any Entity The parameter direction has to be one of 'up', 'down', 'left' or 'right'. Another option is to use: UP RIGHT DOWN LEFT Parameters: Name Type Description direction string | number sprint Boolean Whether to sprint or not Source: app/entity/Entity.js, line 200 setAnimations(frames) Set the animations of the Entity. Parameters: Name Type Description frames object Object containing the animation frames Source: app/entity/Entity.js, line 126 setAnimations(frames) Set the animations of the Entity. Parameters: Name Type Description frames object Object containing the animation frames Source: app/entity/Entity.js, line 126 setDirection(direction) Set the direction of the sprite Parameters: Name Type Description direction string | number Source: app/entity/Entity.js, line 332 setDirection(direction) Set the direction of the sprite Parameters: Name Type Description direction string | number Source: app/entity/Entity.js, line 332 toString() → {string} Return the Name of the function. This is a hack and should be used only for debugging. Source: app/entity/Entity.js, line 380 Returns: Type string toString() → {string} Return the Name of the function. This is a hack and should be used only for debugging. Source: app/entity/Entity.js, line 380 Returns: Type string trueXY() → {Object} Get the center of the Hitbox of the entity Source: app/entity/Entity.js, line 392 Returns: Point with x and y Type Object trueXY() → {Object} Get the center of the Hitbox of the entity Source: app/entity/Entity.js, line 392 Returns: Point with x and y Type Object × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_Monster.html":{"id":"module-entity_Monster.html","title":"Module: entity/Monster","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: entity/Monster Source: app/entity/Monster.js, line 2 Classes Monster Monster Module: entity/Monster Source: app/entity/Monster.js, line 2 Classes Monster Monster × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_Monster-Monster.html":{"id":"module-entity_Monster-Monster.html","title":"Class: Monster","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: Monster entity/Monster~ Monster new Monster(x, y, key) Parameters: Name Type Description x any y any key any Source: app/entity/Monster.js, line 8 Members type Type of Entity Source: app/entity/Monster.js, line 25 type Type of Entity Source: app/entity/Monster.js, line 25 Class: Monster entity/Monster~ Monster new Monster(x, y, key) Parameters: Name Type Description x any y any key any Source: app/entity/Monster.js, line 8 Members type Type of Entity Source: app/entity/Monster.js, line 25 type Type of Entity Source: app/entity/Monster.js, line 25 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_NPC.html":{"id":"module-entity_NPC.html","title":"Module: entity/NPC","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: entity/NPC Source: app/entity/NPC.js, line 2 Classes NPC NPC Module: entity/NPC Source: app/entity/NPC.js, line 2 Classes NPC NPC × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_NPC-NPC.html":{"id":"module-entity_NPC-NPC.html","title":"Class: NPC","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: NPC entity/NPC~ NPC new NPC(x, y, key) Parameters: Name Type Description x any y any key any Source: app/entity/NPC.js, line 8 Members dislike For all NPCs, I am defaulting the people they dislike to monsters. This will be overridden in Monster. Source: app/entity/NPC.js, line 36 dislike For all NPCs, I am defaulting the people they dislike to monsters. This will be overridden in Monster. Source: app/entity/NPC.js, line 36 maxHP NPC Health. Setting max HP to 100 by default. Source: app/entity/NPC.js, line 24 maxHP NPC Health. Setting max HP to 100 by default. Source: app/entity/NPC.js, line 24 type Type of Entity Source: app/entity/NPC.js, line 30 type Type of Entity Source: app/entity/NPC.js, line 30 Methods aggro(target, navMesh [, sprint]) → {boolean} Make the npc attack a target Parameters: Name Type Argument Description target Entity target to attack navMesh navmesh the navMesh of the map sprint boolean &lt;optional&gt; the navMesh of the map Source: app/entity/NPC.js, line 142 Returns: target no longer exists (probably dead) Type boolean aggro(target, navMesh [, sprint]) → {boolean} Make the npc attack a target Parameters: Name Type Argument Description target Entity target to attack navMesh navmesh the navMesh of the map sprint boolean &lt;optional&gt; the navMesh of the map Source: app/entity/NPC.js, line 142 Returns: target no longer exists (probably dead) Type boolean gotoXY(x, y, navMesh, sprint) → {boolean} This function tells an entity object to travel to a desired location Parameters: Name Type Description x number y number navMesh navMesh navigation mesh object sprint boolean if true go fast Source: app/entity/NPC.js, line 56 Returns: return true if finished, otherwise false. Type boolean gotoXY(x, y, navMesh, sprint) → {boolean} This function tells an entity object to travel to a desired location Parameters: Name Type Description x number y number navMesh navMesh navigation mesh object sprint boolean if true go fast Source: app/entity/NPC.js, line 56 Returns: return true if finished, otherwise false. Type boolean updateAI(navMesh, topLeft, botRight, player, behavior) Parameters: Name Type Description navMesh navmesh the navMesh of the map topLeft Phaser.Point top left bounds the entity can wander in. botRight Phaser.Point bottom right bounds the entity can wander in. player Entity the player! behavior string neutral or aggresive for now Source: app/entity/NPC.js, line 194 updateAI(navMesh, topLeft, botRight, player, behavior) Parameters: Name Type Description navMesh navmesh the navMesh of the map topLeft Phaser.Point top left bounds the entity can wander in. botRight Phaser.Point bottom right bounds the entity can wander in. player Entity the player! behavior string neutral or aggresive for now Source: app/entity/NPC.js, line 194 wander(navMesh, topLeft, botRight) Allow an Entity object to wander Parameters: Name Type Description navMesh navMesh the maps navigation mesh topLeft Phaser.Point top left cornor of the bounds (x,y) default 0,0 botRight Phaser.Point bottom left cornor of the bounds (x,y) default map width,hieght Source: app/entity/NPC.js, line 104 wander(navMesh, topLeft, botRight) Allow an Entity object to wander Parameters: Name Type Description navMesh navMesh the maps navigation mesh topLeft Phaser.Point top left cornor of the bounds (x,y) default 0,0 botRight Phaser.Point bottom left cornor of the bounds (x,y) default map width,hieght Source: app/entity/NPC.js, line 104 Class: NPC entity/NPC~ NPC new NPC(x, y, key) Parameters: Name Type Description x any y any key any Source: app/entity/NPC.js, line 8 Members dislike For all NPCs, I am defaulting the people they dislike to monsters. This will be overridden in Monster. Source: app/entity/NPC.js, line 36 dislike For all NPCs, I am defaulting the people they dislike to monsters. This will be overridden in Monster. Source: app/entity/NPC.js, line 36 maxHP NPC Health. Setting max HP to 100 by default. Source: app/entity/NPC.js, line 24 maxHP NPC Health. Setting max HP to 100 by default. Source: app/entity/NPC.js, line 24 type Type of Entity Source: app/entity/NPC.js, line 30 type Type of Entity Source: app/entity/NPC.js, line 30 Methods aggro(target, navMesh [, sprint]) → {boolean} Make the npc attack a target Parameters: Name Type Argument Description target Entity target to attack navMesh navmesh the navMesh of the map sprint boolean &lt;optional&gt; the navMesh of the map Source: app/entity/NPC.js, line 142 Returns: target no longer exists (probably dead) Type boolean aggro(target, navMesh [, sprint]) → {boolean} Make the npc attack a target Parameters: Name Type Argument Description target Entity target to attack navMesh navmesh the navMesh of the map sprint boolean &lt;optional&gt; the navMesh of the map Source: app/entity/NPC.js, line 142 Returns: target no longer exists (probably dead) Type boolean gotoXY(x, y, navMesh, sprint) → {boolean} This function tells an entity object to travel to a desired location Parameters: Name Type Description x number y number navMesh navMesh navigation mesh object sprint boolean if true go fast Source: app/entity/NPC.js, line 56 Returns: return true if finished, otherwise false. Type boolean gotoXY(x, y, navMesh, sprint) → {boolean} This function tells an entity object to travel to a desired location Parameters: Name Type Description x number y number navMesh navMesh navigation mesh object sprint boolean if true go fast Source: app/entity/NPC.js, line 56 Returns: return true if finished, otherwise false. Type boolean updateAI(navMesh, topLeft, botRight, player, behavior) Parameters: Name Type Description navMesh navmesh the navMesh of the map topLeft Phaser.Point top left bounds the entity can wander in. botRight Phaser.Point bottom right bounds the entity can wander in. player Entity the player! behavior string neutral or aggresive for now Source: app/entity/NPC.js, line 194 updateAI(navMesh, topLeft, botRight, player, behavior) Parameters: Name Type Description navMesh navmesh the navMesh of the map topLeft Phaser.Point top left bounds the entity can wander in. botRight Phaser.Point bottom right bounds the entity can wander in. player Entity the player! behavior string neutral or aggresive for now Source: app/entity/NPC.js, line 194 wander(navMesh, topLeft, botRight) Allow an Entity object to wander Parameters: Name Type Description navMesh navMesh the maps navigation mesh topLeft Phaser.Point top left cornor of the bounds (x,y) default 0,0 botRight Phaser.Point bottom left cornor of the bounds (x,y) default map width,hieght Source: app/entity/NPC.js, line 104 wander(navMesh, topLeft, botRight) Allow an Entity object to wander Parameters: Name Type Description navMesh navMesh the maps navigation mesh topLeft Phaser.Point top left cornor of the bounds (x,y) default 0,0 botRight Phaser.Point bottom left cornor of the bounds (x,y) default map width,hieght Source: app/entity/NPC.js, line 104 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_Player.html":{"id":"module-entity_Player.html","title":"Module: entity/Player","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: entity/Player Source: app/entity/Player.js, line 2 Classes Player Player Module: entity/Player Source: app/entity/Player.js, line 2 Classes Player Player × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-entity_Player-Player.html":{"id":"module-entity_Player-Player.html","title":"Class: Player","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: Player entity/Player~ Player new Player(x, y, key) Parameters: Name Type Description x any y any key any Source: app/entity/Player.js, line 6 Members maxHP Player Health. Setting max HP to 100 by default. Source: app/entity/Player.js, line 22 maxHP Player Health. Setting max HP to 100 by default. Source: app/entity/Player.js, line 22 Class: Player entity/Player~ Player new Player(x, y, key) Parameters: Name Type Description x any y any key any Source: app/entity/Player.js, line 6 Members maxHP Player Health. Setting max HP to 100 by default. Source: app/entity/Player.js, line 22 maxHP Player Health. Setting max HP to 100 by default. Source: app/entity/Player.js, line 22 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-Factory.html":{"id":"module-Factory.html","title":"Module: Factory","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: Factory Source: app/factory/Factory.js, line 2 Classes Factory Factory Methods &lt;inner&gt; randInBounds(bounds) → {Object} Parameters: Name Type Description bounds * Source: app/factory/Factory.js, line 31 Returns: Type Object &lt;inner&gt; randInBounds(bounds) → {Object} Parameters: Name Type Description bounds * Source: app/factory/Factory.js, line 31 Returns: Type Object &lt;inner&gt; withinBounds(x, y, bounds) → {boolean} Parameters: Name Type Description x * y * bounds * Source: app/factory/Factory.js, line 15 Returns: Type boolean &lt;inner&gt; withinBounds(x, y, bounds) → {boolean} Parameters: Name Type Description x * y * bounds * Source: app/factory/Factory.js, line 15 Returns: Type boolean Module: Factory Source: app/factory/Factory.js, line 2 Classes Factory Factory Methods &lt;inner&gt; randInBounds(bounds) → {Object} Parameters: Name Type Description bounds * Source: app/factory/Factory.js, line 31 Returns: Type Object &lt;inner&gt; randInBounds(bounds) → {Object} Parameters: Name Type Description bounds * Source: app/factory/Factory.js, line 31 Returns: Type Object &lt;inner&gt; withinBounds(x, y, bounds) → {boolean} Parameters: Name Type Description x * y * bounds * Source: app/factory/Factory.js, line 15 Returns: Type boolean &lt;inner&gt; withinBounds(x, y, bounds) → {boolean} Parameters: Name Type Description x * y * bounds * Source: app/factory/Factory.js, line 15 Returns: Type boolean × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-Factory-Factory.html":{"id":"module-Factory-Factory.html","title":"Class: Factory","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: Factory Factory~ Factory new Factory(entity, group, bounds [, limit]) Parameters: Name Type Argument Description entity any group any bounds Array limit number &lt;optional&gt; Source: app/factory/Factory.js, line 39 Methods next(x, y, key) → {Entity} This will return a new Entity if the number of existing Entities has not exceeded the limit. Parameters: Name Type Description x number y number key any Source: app/factory/Factory.js, line 68 Returns: Type Entity next(x, y, key) → {Entity} This will return a new Entity if the number of existing Entities has not exceeded the limit. Parameters: Name Type Description x number y number key any Source: app/factory/Factory.js, line 68 Returns: Type Entity Class: Factory Factory~ Factory new Factory(entity, group, bounds [, limit]) Parameters: Name Type Argument Description entity any group any bounds Array limit number &lt;optional&gt; Source: app/factory/Factory.js, line 39 Methods next(x, y, key) → {Entity} This will return a new Entity if the number of existing Entities has not exceeded the limit. Parameters: Name Type Description x number y number key any Source: app/factory/Factory.js, line 68 Returns: Type Entity next(x, y, key) → {Entity} This will return a new Entity if the number of existing Entities has not exceeded the limit. Parameters: Name Type Description x number y number key any Source: app/factory/Factory.js, line 68 Returns: Type Entity × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-Map.html":{"id":"module-Map.html","title":"Module: Map","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: Map Source: app/util/Map.js, line 1 Namespaces Map Map Module: Map Source: app/util/Map.js, line 1 Namespaces Map Map × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-Map-Map.html":{"id":"module-Map-Map.html","title":"Namespace: Map","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Namespace: Map Map~ Map Source: app/util/Map.js, line 17 Methods &lt;static&gt; create(entities, dimensions) Create a new map Parameters: Name Type Description entities Array dimensions any Source: app/util/Map.js, line 29 &lt;static&gt; create(entities, dimensions) Create a new map Parameters: Name Type Description entities Array dimensions any Source: app/util/Map.js, line 29 &lt;static&gt; discreteSamples( [n=]) → {Array.&lt;any&gt;} Get n discrete samples from array Parameters: Name Type Argument Description n= number &lt;optional&gt; Number of samples to pick. Default = 1 Source: app/util/Map.js, line 106 Returns: Type Array.&lt;any&gt; &lt;static&gt; discreteSamples( [n=]) → {Array.&lt;any&gt;} Get n discrete samples from array Parameters: Name Type Argument Description n= number &lt;optional&gt; Number of samples to pick. Default = 1 Source: app/util/Map.js, line 106 Returns: Type Array.&lt;any&gt; &lt;static&gt; getByID(id) → {Entity} Get Entity with ID Parameters: Name Type Description id string ID of Entity Source: app/util/Map.js, line 121 Returns: Type Entity &lt;static&gt; getByID(id) → {Entity} Get Entity with ID Parameters: Name Type Description id string ID of Entity Source: app/util/Map.js, line 121 Returns: Type Entity &lt;static&gt; insert(entity) Parameters: Name Type Description entity Object Source: app/util/Map.js, line 51 &lt;static&gt; insert(entity) Parameters: Name Type Description entity Object Source: app/util/Map.js, line 51 &lt;static&gt; nearest(entity, count, maxDistance) → {Array.Neighbors} Parameters: Name Type Description entity Object Entity count number Number of neighbors maxDistance any Range to check within Source: app/util/Map.js, line 74 Returns: Type Array.Neighbors &lt;static&gt; nearest(entity, count, maxDistance) → {Array.Neighbors} Parameters: Name Type Description entity Object Entity count number Number of neighbors maxDistance any Range to check within Source: app/util/Map.js, line 74 Returns: Type Array.Neighbors Namespace: Map Map~ Map Source: app/util/Map.js, line 17 Methods &lt;static&gt; create(entities, dimensions) Create a new map Parameters: Name Type Description entities Array dimensions any Source: app/util/Map.js, line 29 &lt;static&gt; create(entities, dimensions) Create a new map Parameters: Name Type Description entities Array dimensions any Source: app/util/Map.js, line 29 &lt;static&gt; discreteSamples( [n=]) → {Array.&lt;any&gt;} Get n discrete samples from array Parameters: Name Type Argument Description n= number &lt;optional&gt; Number of samples to pick. Default = 1 Source: app/util/Map.js, line 106 Returns: Type Array.&lt;any&gt; &lt;static&gt; discreteSamples( [n=]) → {Array.&lt;any&gt;} Get n discrete samples from array Parameters: Name Type Argument Description n= number &lt;optional&gt; Number of samples to pick. Default = 1 Source: app/util/Map.js, line 106 Returns: Type Array.&lt;any&gt; &lt;static&gt; getByID(id) → {Entity} Get Entity with ID Parameters: Name Type Description id string ID of Entity Source: app/util/Map.js, line 121 Returns: Type Entity &lt;static&gt; getByID(id) → {Entity} Get Entity with ID Parameters: Name Type Description id string ID of Entity Source: app/util/Map.js, line 121 Returns: Type Entity &lt;static&gt; insert(entity) Parameters: Name Type Description entity Object Source: app/util/Map.js, line 51 &lt;static&gt; insert(entity) Parameters: Name Type Description entity Object Source: app/util/Map.js, line 51 &lt;static&gt; nearest(entity, count, maxDistance) → {Array.Neighbors} Parameters: Name Type Description entity Object Entity count number Number of neighbors maxDistance any Range to check within Source: app/util/Map.js, line 74 Returns: Type Array.Neighbors &lt;static&gt; nearest(entity, count, maxDistance) → {Array.Neighbors} Parameters: Name Type Description entity Object Entity count number Number of neighbors maxDistance any Range to check within Source: app/util/Map.js, line 74 Returns: Type Array.Neighbors × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-Ripple.html":{"id":"module-Ripple.html","title":"Module: Ripple","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: Ripple Source: app/ripple/engine.js, line 1 Classes Ripple Ripple Members &lt;inner, constant&gt; gossipRadius The radius withing which to find people Source: app/ripple/engine.js, line 17 &lt;inner, constant&gt; gossipRadius The radius withing which to find people Source: app/ripple/engine.js, line 17 &lt;inner, constant&gt; kNN Number of nearest neighbors Source: app/ripple/engine.js, line 27 &lt;inner, constant&gt; kNN Number of nearest neighbors Source: app/ripple/engine.js, line 27 &lt;inner, constant&gt; numTargets Number of targets to gossip to Source: app/ripple/engine.js, line 22 &lt;inner, constant&gt; numTargets Number of targets to gossip to Source: app/ripple/engine.js, line 22 Module: Ripple Source: app/ripple/engine.js, line 1 Classes Ripple Ripple Members &lt;inner, constant&gt; gossipRadius The radius withing which to find people Source: app/ripple/engine.js, line 17 &lt;inner, constant&gt; gossipRadius The radius withing which to find people Source: app/ripple/engine.js, line 17 &lt;inner, constant&gt; kNN Number of nearest neighbors Source: app/ripple/engine.js, line 27 &lt;inner, constant&gt; kNN Number of nearest neighbors Source: app/ripple/engine.js, line 27 &lt;inner, constant&gt; numTargets Number of targets to gossip to Source: app/ripple/engine.js, line 22 &lt;inner, constant&gt; numTargets Number of targets to gossip to Source: app/ripple/engine.js, line 22 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-Ripple-Ripple.html":{"id":"module-Ripple-Ripple.html","title":"Class: Ripple","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: Ripple Ripple~ Ripple new Ripple() Source: app/ripple/engine.js, line 29 Methods createRumor(witness, target, perp, action) → {Object} Parameters: Name Type Description witness any The Entity that witnessed the action target any The Entity that was the receiver of the action perp any The perpetrator of the action action any the actual action Source: app/ripple/engine.js, line 106 Returns: Possible values of action are: killed Type Object createRumor(witness, target, perp, action) → {Object} Parameters: Name Type Description witness any The Entity that witnessed the action target any The Entity that was the receiver of the action perp any The perpetrator of the action action any the actual action Source: app/ripple/engine.js, line 106 Returns: Possible values of action are: killed Type Object getNearbyRep(point, k) Get the average reputation of the k nearest entities. Parameters: Name Type Description point Entity k number Source: app/ripple/engine.js, line 92 getNearbyRep(point, k) Get the average reputation of the k nearest entities. Parameters: Name Type Description point Entity k number Source: app/ripple/engine.js, line 92 triggerConversation(e) Parameters: Name Type Description e any Deprecated: Yes Source: app/ripple/engine.js, line 72 triggerConversation(e) Parameters: Name Type Description e any Deprecated: Yes Source: app/ripple/engine.js, line 72 Class: Ripple Ripple~ Ripple new Ripple() Source: app/ripple/engine.js, line 29 Methods createRumor(witness, target, perp, action) → {Object} Parameters: Name Type Description witness any The Entity that witnessed the action target any The Entity that was the receiver of the action perp any The perpetrator of the action action any the actual action Source: app/ripple/engine.js, line 106 Returns: Possible values of action are: killed Type Object createRumor(witness, target, perp, action) → {Object} Parameters: Name Type Description witness any The Entity that witnessed the action target any The Entity that was the receiver of the action perp any The perpetrator of the action action any the actual action Source: app/ripple/engine.js, line 106 Returns: Possible values of action are: killed Type Object getNearbyRep(point, k) Get the average reputation of the k nearest entities. Parameters: Name Type Description point Entity k number Source: app/ripple/engine.js, line 92 getNearbyRep(point, k) Get the average reputation of the k nearest entities. Parameters: Name Type Description point Entity k number Source: app/ripple/engine.js, line 92 triggerConversation(e) Parameters: Name Type Description e any Deprecated: Yes Source: app/ripple/engine.js, line 72 triggerConversation(e) Parameters: Name Type Description e any Deprecated: Yes Source: app/ripple/engine.js, line 72 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-States.html":{"id":"module-States.html","title":"Module: States","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: States Source: app/states/states.js, line 2 Module: States Source: app/states/states.js, line 2 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_Boot.html":{"id":"module-states_Boot.html","title":"Module: states/Boot","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/Boot Source: app/states/boot.js, line 2 Module: states/Boot Source: app/states/boot.js, line 2 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_GameOver.html":{"id":"module-states_GameOver.html","title":"Module: states/GameOver","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/GameOver Source: app/states/gameover.js, line 1 Module: states/GameOver Source: app/states/gameover.js, line 1 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_Load.html":{"id":"module-states_Load.html","title":"Module: states/Load","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/Load Source: app/states/load.js, line 1 Module: states/Load Source: app/states/load.js, line 1 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_LoadMenu.html":{"id":"module-states_LoadMenu.html","title":"Module: states/LoadMenu","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/LoadMenu Source: app/states/load-menu.js, line 1 Methods &lt;inner&gt; loadGame(key) Parameters: Name Type Description key any Source: app/states/load-menu.js, line 16 &lt;inner&gt; loadGame(key) Parameters: Name Type Description key any Source: app/states/load-menu.js, line 16 Module: states/LoadMenu Source: app/states/load-menu.js, line 1 Methods &lt;inner&gt; loadGame(key) Parameters: Name Type Description key any Source: app/states/load-menu.js, line 16 &lt;inner&gt; loadGame(key) Parameters: Name Type Description key any Source: app/states/load-menu.js, line 16 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_Menu.html":{"id":"module-states_Menu.html","title":"Module: states/Menu","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/Menu Source: app/states/menu.js, line 1 Module: states/Menu Source: app/states/menu.js, line 1 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_Play.html":{"id":"module-states_Play.html","title":"Module: states/Play","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/Play Source: app/states/play.js, line 2 Members &lt;inner&gt; i Generate a factory and a few NPCs Source: app/states/play.js, line 676 &lt;inner&gt; i Generate a factory and a few NPCs Source: app/states/play.js, line 676 Methods &lt;inner&gt; entityCollision(entity1, entity2) Handle collision between two Entities This needs to be run in the context of Play state Parameters: Name Type Description entity1 any entity2 any Source: app/states/play.js, line 510 &lt;inner&gt; entityCollision(entity1, entity2) Handle collision between two Entities This needs to be run in the context of Play state Parameters: Name Type Description entity1 any entity2 any Source: app/states/play.js, line 510 Module: states/Play Source: app/states/play.js, line 2 Members &lt;inner&gt; i Generate a factory and a few NPCs Source: app/states/play.js, line 676 &lt;inner&gt; i Generate a factory and a few NPCs Source: app/states/play.js, line 676 Methods &lt;inner&gt; entityCollision(entity1, entity2) Handle collision between two Entities This needs to be run in the context of Play state Parameters: Name Type Description entity1 any entity2 any Source: app/states/play.js, line 510 &lt;inner&gt; entityCollision(entity1, entity2) Handle collision between two Entities This needs to be run in the context of Play state Parameters: Name Type Description entity1 any entity2 any Source: app/states/play.js, line 510 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_Settings.html":{"id":"module-states_Settings.html","title":"Module: states/Settings","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/Settings Source: app/states/settings.js, line 2 Module: states/Settings Source: app/states/settings.js, line 2 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-states_Win.html":{"id":"module-states_Win.html","title":"Module: states/Win","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: states/Win Source: app/states/win.js, line 1 Module: states/Win Source: app/states/win.js, line 1 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-ui_UI.html":{"id":"module-ui_UI.html","title":"Module: ui/UI","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Module: ui/UI Source: app/ui/ui.js, line 1 Classes ButtonList ButtonList MenuButton MenuButton Module: ui/UI Source: app/ui/ui.js, line 1 Classes ButtonList ButtonList MenuButton MenuButton × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-ui_UI-ButtonList.html":{"id":"module-ui_UI-ButtonList.html","title":"Class: ButtonList","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: ButtonList ui/UI~ ButtonList new ButtonList(saves, func) Cyclable list of buttons. Parameters: Name Type Description saves * array of timestamps func * function for buttons Source: app/ui/ui.js, line 87 Class: ButtonList ui/UI~ ButtonList new ButtonList(saves, func) Cyclable list of buttons. Parameters: Name Type Description saves * array of timestamps func * function for buttons Source: app/ui/ui.js, line 87 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "},"module-ui_UI-MenuButton.html":{"id":"module-ui_UI-MenuButton.html","title":"Class: MenuButton","body":" Documentation Namespaces Map~Map Modules ai/NavMeshbackend/dbStoredataStoreentity/Entityentity/Monsterentity/NPCentity/PlayerFactoryMapRippleStatesstates/Bootstates/GameOverstates/Loadstates/LoadMenustates/Menustates/Playstates/Settingsstates/Winui/UI Classes ai/NavMesh~NavMeshentity/Entity~Entityentity/Monster~Monsterentity/NPC~NPCentity/Player~PlayerFactory~FactoryRipple~Rippleui/UI~ButtonListui/UI~MenuButton Class: MenuButton ui/UI~ MenuButton new MenuButton(x, y, text, key, func, fontSize) A basic text button. Parameters: Name Type Description x number y number text string key string object associated with button func function on click callback function fontSize string Properties: Name Type Description text Phaser.Text modify this to change the text. button Phaser.Button modify this to change the button. Source: app/ui/ui.js, line 5 Methods hide() → {any} Hide a button and disable it Source: app/ui/ui.js, line 69 Returns: returns itself Type any hide() → {any} Hide a button and disable it Source: app/ui/ui.js, line 69 Returns: returns itself Type any reveal() → {any} Reveal the button and enable it Source: app/ui/ui.js, line 79 Returns: returns itself Type any reveal() → {any} Reveal the button and enable it Source: app/ui/ui.js, line 79 Returns: returns itself Type any setLocation(x, y) set the location of a MenuButton Parameters: Name Type Description x number x location y number location Source: app/ui/ui.js, line 58 setLocation(x, y) set the location of a MenuButton Parameters: Name Type Description x number x location y number location Source: app/ui/ui.js, line 58 Class: MenuButton ui/UI~ MenuButton new MenuButton(x, y, text, key, func, fontSize) A basic text button. Parameters: Name Type Description x number y number text string key string object associated with button func function on click callback function fontSize string Properties: Name Type Description text Phaser.Text modify this to change the text. button Phaser.Button modify this to change the button. Source: app/ui/ui.js, line 5 Methods hide() → {any} Hide a button and disable it Source: app/ui/ui.js, line 69 Returns: returns itself Type any hide() → {any} Hide a button and disable it Source: app/ui/ui.js, line 69 Returns: returns itself Type any reveal() → {any} Reveal the button and enable it Source: app/ui/ui.js, line 79 Returns: returns itself Type any reveal() → {any} Reveal the button and enable it Source: app/ui/ui.js, line 79 Returns: returns itself Type any setLocation(x, y) set the location of a MenuButton Parameters: Name Type Description x number x location y number location Source: app/ui/ui.js, line 58 setLocation(x, y) set the location of a MenuButton Parameters: Name Type Description x number x location y number location Source: app/ui/ui.js, line 58 × Search results Close Documentation generated by JSDoc 3.5.5 on Mon Oct 23rd 2017 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
